{"ast":null,"code":"import _defineProperty from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{connect}from\"react-redux\";import{Button,Form,Input,Row,Col,Table,Divider,Popconfirm,Space}from\"antd\";import{EditOutlined,DeleteOutlined}from\"@ant-design/icons\";import{Link}from\"react-router-dom\";/* custom component */import Header from\"../../component/Header/Header\";import{PageContainer}from\"../../component/Xcomponent\";import ProductTabs from\"../../component/ProductTabs/ProductTabs\";/* actions */import{getProductView as _getProductView,getProductViewReset as _getProductViewReset}from\"../../action/getProductViewAction\";import{addDescription as _addDescription,addDescriptionReset as _addDescriptionReset}from\"../../action/addDescriptionAction\";import{listDescription as _listDescription,listDescriptionReset as _listDescriptionReset}from\"../../action/listDescriptionAction\";var ProductDescription=function ProductDescription(props){/* variables */var product_id=props.match.params.product_id;var getProductView=props.getProductView,getProductViewReset=props.getProductViewReset,getProductViewState=props.getProductViewState,addDescription=props.addDescription,addDescriptionReset=props.addDescriptionReset,addDescriptionState=props.addDescriptionState,listDescription=props.listDescription,listDescriptionReset=props.listDescriptionReset,listDescriptionState=props.listDescriptionState;var _useState=useState({product_id:product_id,title:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),refresh=_useState4[0],setRefresh=_useState4[1];var columns=[{title:'Title',dataIndex:'title',key:'title'},{title:'Sequence',dataIndex:'sequence',key:'sequence'},{title:'Action',key:'action',render:function render(obj){return/*#__PURE__*/React.createElement(Space,{size:\"middle\"},/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(product_id,\"/edit/description/\").concat(obj.key)},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(EditOutlined,null)})),/*#__PURE__*/React.createElement(Popconfirm,{title:\"Are you sure to delete?\",onConfirm:function onConfirm(){return console.log(\"hello\");},okText:\"DELETE\",cancelText:\"Cancel\",okType:\"danger\"},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(DeleteOutlined,null)})));}}];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tableData=_useState6[0],setTableData=_useState6[1];/* callbacks */useEffect(function(){return function(){addDescriptionReset();listDescription();};},[]);useEffect(function(){getProductView({product_id:product_id});listDescription({product_id:product_id});},[refresh]);useEffect(function(){if(addDescriptionState.apiState===\"success\"){setRefresh(refresh+1);}},[addDescriptionState]);useEffect(function(){if(listDescriptionState.apiState===\"success\"){var tblData=[];listDescriptionState.list.map(function(item){tblData.push({key:item.id,title:item.title,sequence:item.sequence,action:item.id});});setTableData(tblData);}},[listDescriptionState]);/* FUNTIONS */var handleSubmit=function handleSubmit(){addDescription(formData);};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Product Description\"}),/*#__PURE__*/React.createElement(PageContainer,null,getProductViewState.apiState===\"success\"&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(ProductTabs,{id:product_id,active:\"description\",type:getProductViewState.product.type}),/*#__PURE__*/React.createElement(Form,{layout:\"vertical\",onFinish:handleSubmit},/*#__PURE__*/React.createElement(Row,{gutter:20},/*#__PURE__*/React.createElement(Col,{xs:24,sm:24,md:12,lg:6,xl:6},/*#__PURE__*/React.createElement(Form.Item,{label:\"Title\",name:\"title\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Input,{name:\"title\",placeholder:\"Enter Title\",onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},'title',e.target.value)));}})))),/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\"},\"SUBMIT\")),/*#__PURE__*/React.createElement(Divider,null),/*#__PURE__*/React.createElement(Table,{columns:columns,dataSource:tableData,size:\"small\"}))));};var mapStateToProps=function mapStateToProps(state){return{getProductViewState:state.getProductView,addDescriptionState:state.addDescription,listDescriptionState:state.listDescription};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getProductView:function getProductView(params){return dispatch(_getProductView(params));},getProductViewReset:function getProductViewReset(){return dispatch(_getProductViewReset());},addDescription:function addDescription(params){return dispatch(_addDescription(params));},addDescriptionReset:function addDescriptionReset(){return dispatch(_addDescriptionReset());},listDescription:function listDescription(params){return dispatch(_listDescription(params));},listDescriptionReset:function listDescriptionReset(){return dispatch(_listDescriptionReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(ProductDescription);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/ProductDescription/ProductDescription.js"],"names":["React","useState","useEffect","connect","Button","Form","Input","Row","Col","Table","Divider","Popconfirm","Space","EditOutlined","DeleteOutlined","Link","Header","PageContainer","ProductTabs","getProductView","getProductViewReset","addDescription","addDescriptionReset","listDescription","listDescriptionReset","ProductDescription","props","product_id","match","params","getProductViewState","addDescriptionState","listDescriptionState","title","formData","setFormData","refresh","setRefresh","columns","dataIndex","key","render","obj","console","log","tableData","setTableData","apiState","tblData","list","map","item","push","id","sequence","action","handleSubmit","product","type","required","message","e","target","value","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport { Button, Form, Input, Row, Col, Table, Divider, Popconfirm, Space } from \"antd\"\nimport { EditOutlined, DeleteOutlined } from \"@ant-design/icons\"\nimport { Link } from \"react-router-dom\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport ProductTabs from \"../../component/ProductTabs/ProductTabs\"\n\n/* actions */\nimport { getProductView, getProductViewReset } from \"../../action/getProductViewAction\"\nimport { addDescription, addDescriptionReset } from \"../../action/addDescriptionAction\"\nimport { listDescription, listDescriptionReset } from \"../../action/listDescriptionAction\"\n\n\nconst ProductDescription = props => {\n    /* variables */\n    const product_id = props.match.params.product_id\n    const {\n        getProductView, getProductViewReset, getProductViewState,\n        addDescription, addDescriptionReset, addDescriptionState,\n        listDescription, listDescriptionReset, listDescriptionState,\n    } = props\n    const [formData, setFormData] = useState({\n        product_id: product_id,\n        title: \"\"\n    })\n    const [refresh, setRefresh] = useState(0)\n    const columns = [\n        {\n            title: 'Title',\n            dataIndex: 'title',\n            key: 'title',\n        },\n        {\n            title: 'Sequence',\n            dataIndex: 'sequence',\n            key: 'sequence',\n        },\n        {\n            title: 'Action',\n            key: 'action',\n            render: obj => (\n                <Space size=\"middle\">\n                    <Link to={`/product/${product_id}/edit/description/${obj.key}`}>\n                        <Button size=\"small\" icon={<EditOutlined />} />\n                    </Link>\n                    <Popconfirm\n                        title=\"Are you sure to delete?\"\n                        onConfirm={() => console.log(\"hello\")}\n                        okText=\"DELETE\"\n                        cancelText=\"Cancel\"\n                        okType=\"danger\"\n                    >\n                        <Button size=\"small\" icon={<DeleteOutlined />} />\n                    </Popconfirm>\n                </Space>\n            ),\n        },\n    ];\n    const [tableData, setTableData] = useState([])\n\n    /* callbacks */\n    useEffect(() => {\n        return (() => {\n            addDescriptionReset()\n            listDescription()\n        })\n    }, [])\n\n    useEffect(() => {\n        getProductView({\n            product_id: product_id\n        })\n        listDescription({\n            product_id: product_id\n        })\n    }, [refresh])\n\n    useEffect(() => {\n        if (addDescriptionState.apiState === \"success\") {\n            setRefresh(refresh + 1)\n        }\n    }, [addDescriptionState])\n\n    useEffect(() => {\n        if (listDescriptionState.apiState === \"success\") {\n            let tblData = []\n            listDescriptionState.list.map(item => {\n                tblData.push({\n                    key: item.id,\n                    title: item.title,\n                    sequence: item.sequence,\n                    action: item.id,\n                })\n            })\n            setTableData(tblData)\n        }\n    }, [listDescriptionState])\n\n    /* FUNTIONS */\n    const handleSubmit = () => {\n        addDescription(formData)\n    }\n\n    return (\n        <>\n            <Header\n                title=\"Product Description\"\n            />\n            <PageContainer>\n                {getProductViewState.apiState === \"success\" &&\n                    <>\n                        <ProductTabs id={product_id} active=\"description\" type={getProductViewState.product.type} />\n                        <Form layout=\"vertical\" onFinish={handleSubmit} >\n                            <Row gutter={20}>\n                                <Col xs={24} sm={24} md={12} lg={6} xl={6}>\n                                    <Form.Item\n                                        label=\"Title\"\n                                        name=\"title\"\n                                        rules={[{ required: true, message: 'Required' }]}\n                                    >\n                                        <Input name=\"title\" placeholder=\"Enter Title\"\n                                            onChange={e => setFormData({ ...formData, ['title']: e.target.value })}\n                                        />\n                                    </Form.Item>\n                                </Col>\n                            </Row>\n                            <Button type=\"primary\" htmlType=\"submit\" >SUBMIT</Button>\n                        </Form>\n                        <Divider />\n                        <Table columns={columns} dataSource={tableData} size='small' />\n                    </>\n                }\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getProductViewState: state.getProductView,\n    addDescriptionState: state.addDescription,\n    listDescriptionState: state.listDescription,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getProductView: (params) => dispatch(getProductView(params)),\n    getProductViewReset: () => dispatch(getProductViewReset()),\n    addDescription: (params) => dispatch(addDescription(params)),\n    addDescriptionReset: () => dispatch(addDescriptionReset()),\n    listDescription: (params) => dispatch(listDescription(params)),\n    listDescriptionReset: () => dispatch(listDescriptionReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductDescription)"]},"metadata":{},"sourceType":"module"}
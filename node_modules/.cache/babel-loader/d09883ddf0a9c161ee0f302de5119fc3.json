{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala-Admin/src/page/VoucherList/VoucherList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Table, Space, Badge } from \"antd\";\nimport { Link } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { EditOutlined } from \"@ant-design/icons\";\n/* custom component */\n\nimport Header from \"../../component/Header/Header\";\nimport { PageContainer } from \"../../component/Xcomponent\";\nimport { Indicator } from \"./VoucherListStyle\";\n/* actions */\n\nimport { getVoucherList, getVoucherListReset } from \"../../action/getVoucherListAction\";\n\nconst VoucherList = props => {\n  /* variables */\n  const {\n    getVoucherList,\n    getVoucherListReset,\n    getVoucherListState\n  } = props;\n  const [tableData, setTableData] = useState([]);\n  const columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: 'Code',\n    dataIndex: 'code',\n    key: 'code',\n    render: code => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 29\n      }\n    }, code)\n  }, {\n    title: 'Discount',\n    dataIndex: 'discountData',\n    key: 'discountData',\n    render: obj => /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, obj.type === \"percentage\" ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }, obj.discount, \"%\") : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 27\n      }\n    }, \"\\u20B9\", obj.discount))\n  }, {\n    title: 'Valid From',\n    dataIndex: 'valid_from',\n    key: 'valid_from',\n    render: valid_from => {\n      var date = new Date(valid_from);\n      var month = date.getMonth() + 1; //months (0-11)\n\n      var day = date.getDate(); //day (1-31)\n\n      var year = date.getFullYear();\n      var formattedDate = month + \"/\" + day + \"/\" + year;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, formattedDate);\n    }\n  }, {\n    title: 'Valid To',\n    dataIndex: 'valid_to',\n    key: 'valid_to',\n    render: valid_to => {\n      var date = new Date(valid_to);\n      var month = date.getMonth() + 1 + 1;\n      var day = date.getDate();\n      var year = date.getFullYear();\n      var formattedDate = month + \"/\" + day + \"/\" + year;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, formattedDate);\n    }\n  }, {\n    title: 'Status',\n    dataIndex: 'status',\n    key: 'status',\n    render: status => status === \"active\" ? /*#__PURE__*/React.createElement(Indicator, {\n      green: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 55\n      }\n    }) : /*#__PURE__*/React.createElement(Indicator, {\n      red: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 77\n      }\n    })\n  }, {\n    title: 'Action',\n    dataIndex: 'id',\n    key: 'action',\n    render: id => /*#__PURE__*/React.createElement(Link, {\n      to: `/voucher_management/${id}/edit`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      icon: /*#__PURE__*/React.createElement(EditOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 88\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 61\n      }\n    }))\n  }];\n  /* callbacks */\n\n  useEffect(() => {\n    getVoucherList();\n  }, []);\n  useEffect(() => {\n    if (getVoucherListState.apiState === \"success\") {\n      let tableData = [];\n      getVoucherListState.list.map(row => {\n        tableData.push({\n          key: row.id,\n          name: row.name,\n          code: row.code,\n          valid_from: row.valid_from,\n          valid_to: row.valid_to,\n          discountData: {\n            type: row.type,\n            discount: row.discount\n          },\n          status: row.status,\n          id: row.id\n        });\n      });\n      setTableData(tableData);\n    }\n  }, [getVoucherListState]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    title: \"Voucher List\",\n    actionBtn: /*#__PURE__*/React.createElement(Link, {\n      to: \"/voucher_management/add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 63\n      }\n    }, \"New\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    list: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: tableData,\n    columns: columns,\n    size: \"small\",\n    pagination: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  })));\n};\n\nconst mapStateToProps = state => ({\n  getVoucherListState: state.getVoucherList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getVoucherList: params => dispatch(getVoucherList(params)),\n  getVoucherListReset: () => dispatch(getVoucherListReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherList);","map":{"version":3,"names":["React","useEffect","useState","Button","Table","Space","Badge","Link","connect","EditOutlined","Header","PageContainer","Indicator","getVoucherList","getVoucherListReset","VoucherList","props","getVoucherListState","tableData","setTableData","columns","title","dataIndex","key","render","code","obj","type","discount","valid_from","date","Date","month","getMonth","day","getDate","year","getFullYear","formattedDate","valid_to","status","id","apiState","list","map","row","push","name","discountData","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/VoucherList/VoucherList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Table, Space, Badge } from \"antd\"\nimport { Link } from 'react-router-dom'\nimport { connect } from \"react-redux\"\nimport { EditOutlined } from \"@ant-design/icons\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport { Indicator } from \"./VoucherListStyle\"\n\n/* actions */\nimport { getVoucherList, getVoucherListReset } from \"../../action/getVoucherListAction\"\n\n\nconst VoucherList = props => {\n    /* variables */\n    const { getVoucherList, getVoucherListReset, getVoucherListState } = props\n    const [tableData, setTableData] = useState([])\n    const columns = [\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: 'Code',\n            dataIndex: 'code',\n            key: 'code',\n            render: code => <span>{code}</span>\n        },\n        {\n            title: 'Discount',\n            dataIndex: 'discountData',\n            key: 'discountData',\n            render: (obj) => (\n                <Space>\n                    {obj.type === \"percentage\" ?\n                        <span>{obj.discount}%</span>\n                        : <span>â‚¹{obj.discount}</span>\n                    }\n\n                </Space>\n            )\n        },\n        {\n            title: 'Valid From',\n            dataIndex: 'valid_from',\n            key: 'valid_from',\n            render: (valid_from) => {\n                var date = new Date(valid_from);\n                var month = date.getMonth() +1;//months (0-11)\n                var day = date.getDate();//day (1-31)\n                var year = date.getFullYear();\n\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Valid To',\n            dataIndex: 'valid_to',\n            key: 'valid_to',\n            render: (valid_to) => {\n                var date = new Date(valid_to);\n                var month = date.getMonth() +1 + 1;\n                var day = date.getDate();\n                var year = date.getFullYear();\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Status',\n            dataIndex: 'status',\n            key: 'status',\n            render: (status) => status === \"active\" ? <Indicator green /> : <Indicator red />\n        },\n        {\n            title: 'Action',\n            dataIndex: 'id',\n            key: 'action',\n            render: (id) => (\n                <Link to={`/voucher_management/${id}/edit`}><Button size=\"small\" icon={<EditOutlined />} /></Link>\n            )\n        },\n    ];\n\n    /* callbacks */\n    useEffect(() => {\n        getVoucherList()\n    }, [])\n\n    useEffect(() => {\n        if (getVoucherListState.apiState === \"success\") {\n            let tableData = []\n            getVoucherListState.list.map(row => {\n                tableData.push({\n                    key: row.id,\n                    name: row.name,\n                    code: row.code,\n                    valid_from: row.valid_from,\n                    valid_to: row.valid_to,\n                    discountData: { type: row.type, discount: row.discount },\n                    status: row.status,\n                    id: row.id,\n                })\n            })\n            setTableData(tableData)\n        }\n    }, [getVoucherListState])\n\n\n    return (\n        <>\n            <Header\n                title=\"Voucher List\"\n                actionBtn={<Link to='/voucher_management/add'><Button >New</Button></Link>}\n            />\n            <PageContainer list >\n                <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getVoucherListState: state.getVoucherList,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getVoucherList: (params) => dispatch(getVoucherList(params)),\n    getVoucherListReset: () => dispatch(getVoucherListReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherList)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
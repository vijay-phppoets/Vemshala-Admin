{"ast":null,"code":"import _slicedToArray from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Table,Space,Badge}from\"antd\";import{Link}from'react-router-dom';import{connect}from\"react-redux\";import{EditOutlined}from\"@ant-design/icons\";/* custom component */import Header from\"../../component/Header/Header\";import{PageContainer}from\"../../component/Xcomponent\";import{Indicator}from\"./VoucherListStyle\";/* actions */import{getVoucherList as _getVoucherList,getVoucherListReset as _getVoucherListReset}from\"../../action/getVoucherListAction\";var VoucherList=function VoucherList(props){/* variables */var getVoucherList=props.getVoucherList,getVoucherListReset=props.getVoucherListReset,getVoucherListState=props.getVoucherListState;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var columns=[{title:'Name',dataIndex:'name',key:'name'},{title:'Code',dataIndex:'code',key:'code',render:function render(code){return/*#__PURE__*/React.createElement(\"span\",null,code);}},{title:'Discount',dataIndex:'discountData',key:'discountData',render:function render(obj){return/*#__PURE__*/React.createElement(Space,null,obj.type===\"percentage\"?/*#__PURE__*/React.createElement(\"span\",null,obj.discount,\"%\"):/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",obj.discount));}},{title:'Valid From',dataIndex:'valid_from',key:'valid_from',render:function render(valid_from){var date=new Date(valid_from);var month=date.getMonth()+1;//months (0-11)\nvar day=date.getDate();//day (1-31)\nvar year=date.getFullYear();var formattedDate=month+\"/\"+day+\"/\"+year;return/*#__PURE__*/React.createElement(\"span\",null,formattedDate);}},{title:'Valid To',dataIndex:'valid_to',key:'valid_to',render:function render(valid_to){var date=new Date(valid_to);var month=date.getMonth()+1+1;var day=date.getDate();var year=date.getFullYear();var formattedDate=month+\"/\"+day+\"/\"+year;return/*#__PURE__*/React.createElement(\"span\",null,formattedDate);}},{title:'Status',dataIndex:'status',key:'status',render:function render(status){return status===\"active\"?/*#__PURE__*/React.createElement(Indicator,{green:true}):/*#__PURE__*/React.createElement(Indicator,{red:true});}},{title:'Action',dataIndex:'id',key:'action',render:function render(id){return/*#__PURE__*/React.createElement(Link,{to:\"/voucher_management/\".concat(id,\"/edit\")},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(EditOutlined,null)}));}}];/* callbacks */useEffect(function(){getVoucherList();},[]);useEffect(function(){if(getVoucherListState.apiState===\"success\"){var _tableData=[];getVoucherListState.list.map(function(row){_tableData.push({key:row.id,name:row.name,code:row.code,valid_from:row.valid_from,valid_to:row.valid_to,discountData:{type:row.type,discount:row.discount},status:row.status,id:row.id});});setTableData(_tableData);}},[getVoucherListState]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Voucher List\",actionBtn:/*#__PURE__*/React.createElement(Link,{to:\"/voucher_management/add\"},/*#__PURE__*/React.createElement(Button,null,\"New\"))}),/*#__PURE__*/React.createElement(PageContainer,{list:true},/*#__PURE__*/React.createElement(Table,{dataSource:tableData,columns:columns,size:\"small\",pagination:false})));};var mapStateToProps=function mapStateToProps(state){return{getVoucherListState:state.getVoucherList};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getVoucherList:function getVoucherList(params){return dispatch(_getVoucherList(params));},getVoucherListReset:function getVoucherListReset(){return dispatch(_getVoucherListReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(VoucherList);","map":{"version":3,"names":["React","useEffect","useState","Button","Table","Space","Badge","Link","connect","EditOutlined","Header","PageContainer","Indicator","getVoucherList","getVoucherListReset","VoucherList","props","getVoucherListState","tableData","setTableData","columns","title","dataIndex","key","render","code","obj","type","discount","valid_from","date","Date","month","getMonth","day","getDate","year","getFullYear","formattedDate","valid_to","status","id","apiState","list","map","row","push","name","discountData","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/VoucherList/VoucherList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Table, Space, Badge } from \"antd\"\nimport { Link } from 'react-router-dom'\nimport { connect } from \"react-redux\"\nimport { EditOutlined } from \"@ant-design/icons\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport { Indicator } from \"./VoucherListStyle\"\n\n/* actions */\nimport { getVoucherList, getVoucherListReset } from \"../../action/getVoucherListAction\"\n\n\nconst VoucherList = props => {\n    /* variables */\n    const { getVoucherList, getVoucherListReset, getVoucherListState } = props\n    const [tableData, setTableData] = useState([])\n    const columns = [\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: 'Code',\n            dataIndex: 'code',\n            key: 'code',\n            render: code => <span>{code}</span>\n        },\n        {\n            title: 'Discount',\n            dataIndex: 'discountData',\n            key: 'discountData',\n            render: (obj) => (\n                <Space>\n                    {obj.type === \"percentage\" ?\n                        <span>{obj.discount}%</span>\n                        : <span>â‚¹{obj.discount}</span>\n                    }\n\n                </Space>\n            )\n        },\n        {\n            title: 'Valid From',\n            dataIndex: 'valid_from',\n            key: 'valid_from',\n            render: (valid_from) => {\n                var date = new Date(valid_from);\n                var month = date.getMonth() +1;//months (0-11)\n                var day = date.getDate();//day (1-31)\n                var year = date.getFullYear();\n\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Valid To',\n            dataIndex: 'valid_to',\n            key: 'valid_to',\n            render: (valid_to) => {\n                var date = new Date(valid_to);\n                var month = date.getMonth() +1 + 1;\n                var day = date.getDate();\n                var year = date.getFullYear();\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Status',\n            dataIndex: 'status',\n            key: 'status',\n            render: (status) => status === \"active\" ? <Indicator green /> : <Indicator red />\n        },\n        {\n            title: 'Action',\n            dataIndex: 'id',\n            key: 'action',\n            render: (id) => (\n                <Link to={`/voucher_management/${id}/edit`}><Button size=\"small\" icon={<EditOutlined />} /></Link>\n            )\n        },\n    ];\n\n    /* callbacks */\n    useEffect(() => {\n        getVoucherList()\n    }, [])\n\n    useEffect(() => {\n        if (getVoucherListState.apiState === \"success\") {\n            let tableData = []\n            getVoucherListState.list.map(row => {\n                tableData.push({\n                    key: row.id,\n                    name: row.name,\n                    code: row.code,\n                    valid_from: row.valid_from,\n                    valid_to: row.valid_to,\n                    discountData: { type: row.type, discount: row.discount },\n                    status: row.status,\n                    id: row.id,\n                })\n            })\n            setTableData(tableData)\n        }\n    }, [getVoucherListState])\n\n\n    return (\n        <>\n            <Header\n                title=\"Voucher List\"\n                actionBtn={<Link to='/voucher_management/add'><Button >New</Button></Link>}\n            />\n            <PageContainer list >\n                <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getVoucherListState: state.getVoucherList,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getVoucherList: (params) => dispatch(getVoucherList(params)),\n    getVoucherListReset: () => dispatch(getVoucherListReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherList)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _slicedToArray from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Table,Space,Tag}from\"antd\";import{Link}from'react-router-dom';import{connect}from\"react-redux\";import{CopyOutlined,EditOutlined}from\"@ant-design/icons\";/* custom component */import Header from\"../../component/Header/Header\";import{PageContainer}from\"../../component/Xcomponent\";import{Indicator}from\"./OrderListStyle\";/* actions */import{getOrderList as _getOrderList,getOrderListReset as _getOrderListReset}from\"../../action/getOrderListAction\";var OrderList=function OrderList(props){/* variables */var getOrderList=props.getOrderList,getOrderListReset=props.getOrderListReset,getOrderListState=props.getOrderListState;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var columns=[{title:'Customer Name',dataIndex:'customer_name',key:'customer_name'},// {\n//     title: 'Email',\n//     dataIndex: 's_email',\n//     key: 's_email',\n//     render: s_email => <span>{s_email}</span>\n// },\n{title:'Phone',dataIndex:'s_phone',key:'s_phone',render:function render(s_phone){return/*#__PURE__*/React.createElement(\"span\",null,s_phone);}},{title:'Order No',dataIndex:'order_no',key:'order_no',render:function render(order_no){return/*#__PURE__*/React.createElement(\"span\",null,order_no);}},{title:'Order Date',dataIndex:'order_date',key:'order_date',render:function render(order_date){var date=new Date(order_date);var month=date.getMonth()+1;//months (0-11)\nvar day=date.getDate();//day (1-31)\nvar year=date.getFullYear();var formattedDate=month+\"/\"+day+\"/\"+year;return/*#__PURE__*/React.createElement(\"span\",null,formattedDate);}},{title:'Total Amount',dataIndex:'total',key:'total',render:function render(obj){return/*#__PURE__*/React.createElement(\"span\",null,obj.payment_type==\"USD\"?/*#__PURE__*/React.createElement(React.Fragment,null,\"$\"):/*#__PURE__*/React.createElement(React.Fragment,null,\"\\u20B9\"),obj.total);}},{title:'Status',dataIndex:'status',key:'status',render:function render(status){if(status==\"processing\")return/*#__PURE__*/React.createElement(Tag,{color:\"#e39f19\"},status.toUpperCase());if(status==\"shipped\")return/*#__PURE__*/React.createElement(Tag,{color:\"#1973e3\"},status.toUpperCase());if(status==\"delivered\")return/*#__PURE__*/React.createElement(Tag,{color:\"#87d068\"},status.toUpperCase());if(status==\"cancelled\")return/*#__PURE__*/React.createElement(Tag,{color:\"#d93a3a\"},status.toUpperCase());}},{title:'Action',dataIndex:'id',key:'action',render:function render(id){return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Link,{to:\"/order/\".concat(id,\"/details\")},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(CopyOutlined,null)})),\" \\xA0\",/*#__PURE__*/React.createElement(Link,{to:\"/order/\".concat(id,\"/update\")},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(EditOutlined,null)})));}}];/* callbacks */useEffect(function(){getOrderList();},[]);useEffect(function(){if(getOrderListState.apiState===\"success\"){var _tableData=[];getOrderListState.list.map(function(row){_tableData.push({key:row.id,customer_name:row.s_fname+' '+row.s_lname,s_email:row.s_email,s_phone:row.s_phone,order_no:row.order_no,order_date:row.order_date,total:{\"total\":row.total,\"payment_type\":row.payment_type},status:row.status,id:row.id});});setTableData(_tableData);}},[getOrderListState]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Order List\"}),/*#__PURE__*/React.createElement(PageContainer,{list:true},/*#__PURE__*/React.createElement(Table,{dataSource:tableData,columns:columns,size:\"small\",pagination:false})));};var mapStateToProps=function mapStateToProps(state){return{getOrderListState:state.getOrderList};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getOrderList:function getOrderList(params){return dispatch(_getOrderList(params));},getOrderListReset:function getOrderListReset(){return dispatch(_getOrderListReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(OrderList);","map":{"version":3,"names":["React","useEffect","useState","Button","Table","Space","Tag","Link","connect","CopyOutlined","EditOutlined","Header","PageContainer","Indicator","getOrderList","getOrderListReset","OrderList","props","getOrderListState","tableData","setTableData","columns","title","dataIndex","key","render","s_phone","order_no","order_date","date","Date","month","getMonth","day","getDate","year","getFullYear","formattedDate","obj","payment_type","total","status","toUpperCase","id","apiState","list","map","row","push","customer_name","s_fname","s_lname","s_email","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/OrderList/OrderList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Table, Space, Tag } from \"antd\"\nimport { Link } from 'react-router-dom'\nimport { connect } from \"react-redux\"\nimport { CopyOutlined, EditOutlined } from \"@ant-design/icons\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport { Indicator } from \"./OrderListStyle\"\n\n/* actions */\nimport { getOrderList, getOrderListReset } from \"../../action/getOrderListAction\"\n\n\nconst OrderList = props => {\n    /* variables */\n    const { getOrderList, getOrderListReset, getOrderListState } = props\n    const [tableData, setTableData] = useState([])\n    const columns = [\n        {\n            title: 'Customer Name',\n            dataIndex: 'customer_name',\n            key: 'customer_name',\n        },\n        // {\n        //     title: 'Email',\n        //     dataIndex: 's_email',\n        //     key: 's_email',\n        //     render: s_email => <span>{s_email}</span>\n        // },\n        {\n            title: 'Phone',\n            dataIndex: 's_phone',\n            key: 's_phone',\n            render: s_phone => <span>{s_phone}</span>\n        },\n        {\n            title: 'Order No',\n            dataIndex: 'order_no',\n            key: 'order_no',\n            render: order_no => <span>{order_no}</span>\n        },\n        {\n            title: 'Order Date',\n            dataIndex: 'order_date',\n            key: 'order_date',\n            render: (order_date) => {\n                var date = new Date(order_date);\n                var month = date.getMonth() +1;//months (0-11)\n                var day = date.getDate();//day (1-31)\n                var year = date.getFullYear();\n\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Total Amount',\n            dataIndex: 'total',\n            key: 'total',\n            render: (obj) => <span>{obj.payment_type == \"USD\" ? <>$</> : <>â‚¹</>}{obj.total}</span>\n        },\n        {\n            title: 'Status',\n            dataIndex: 'status',\n            key: 'status',\n            render: status => {\n                if (status == \"processing\")\n                    return (<Tag color=\"#e39f19\">{status.toUpperCase()}</Tag>)\n\n                if (status == \"shipped\")\n                    return (<Tag color=\"#1973e3\">{status.toUpperCase()}</Tag>)\n\n                if (status == \"delivered\")\n                    return (<Tag color=\"#87d068\">{status.toUpperCase()}</Tag>)\n\n                if (status == \"cancelled\")\n                    return (<Tag color=\"#d93a3a\">{status.toUpperCase()}</Tag>)\n            }\n        },\n        {\n            title: 'Action',\n            dataIndex: 'id',\n            key: 'action',\n            render: (id) => (\n                <>\n                    <Link to={`/order/${id}/details`}><Button size=\"small\" icon={<CopyOutlined />} /></Link> &nbsp;\n                    <Link to={`/order/${id}/update`}><Button size=\"small\" icon={<EditOutlined />} /></Link>\n\n                </>\n            )\n        },\n    ];\n\n    /* callbacks */\n    useEffect(() => {\n        getOrderList()\n    }, [])\n\n    useEffect(() => {\n        if (getOrderListState.apiState === \"success\") {\n            let tableData = []\n            getOrderListState.list.map(row => {\n                tableData.push({\n                    key: row.id,\n                    customer_name: row.s_fname + ' ' + row.s_lname,\n                    s_email: row.s_email,\n                    s_phone: row.s_phone,\n                    order_no: row.order_no,\n                    order_date: row.order_date,\n                    total: { \"total\": row.total, \"payment_type\": row.payment_type, },\n                    status: row.status,\n                    id: row.id,\n                })\n            })\n            setTableData(tableData)\n        }\n    }, [getOrderListState])\n\n\n    return (\n        <>\n            <Header\n                title=\"Order List\"\n            />\n            <PageContainer list >\n                <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getOrderListState: state.getOrderList,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getOrderList: (params) => dispatch(getOrderList(params)),\n    getOrderListReset: () => dispatch(getOrderListReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderList)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
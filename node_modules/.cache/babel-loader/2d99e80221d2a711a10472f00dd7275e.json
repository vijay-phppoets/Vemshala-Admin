{"ast":null,"code":"import _defineProperty from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Button,Form,Input}from\"antd\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";/* custom component */import{LoginContainer}from\"../../component/Xcomponent\";/* actions */import{login as _login,loginReset as _loginReset}from\"../../action/loginAction\";var Login=function Login(props){/* variables */var _useState=useState({email:\"\",password:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var login=props.login,loginReset=props.loginReset,loginState=props.loginState;var _useState3=useState([false,'']),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];/* callbacks */useEffect(function(){return function(){return loginReset();};},[]);useEffect(function(){if(loginState.apiState===\"success\"){localStorage.setItem(\"PikyUserToken\",loginState.data.token);localStorage.setItem(\"PikyUser\",JSON.stringify(loginState.data.user));setRedirect([true,'/']);}},[loginState]);/* function */var handleSubmit=function handleSubmit(){login(formData);};return/*#__PURE__*/React.createElement(React.Fragment,null,redirect[0]&&/*#__PURE__*/React.createElement(Redirect,{to:redirect[1]}),/*#__PURE__*/React.createElement(LoginContainer,null,/*#__PURE__*/React.createElement(\"div\",{style:{padding:16,border:\"solid 1px #ccc\",background:\"#fff\",borderRadius:'10px',minWidth:350}},/*#__PURE__*/React.createElement(Form,{layout:\"vertical\",onFinish:handleSubmit},/*#__PURE__*/React.createElement(Form.Item,{label:\"Email\",name:\"email\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Input,{name:\"email\",placeholder:\"Email\",onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},'email',e.target.value)));}})),/*#__PURE__*/React.createElement(Form.Item,{label:\"Password\",name:\"password\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Input.Password,{name:\"password\",placeholder:\"Password\",onChange:function onChange(e){return setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},'password',e.target.value)));}})),/*#__PURE__*/React.createElement(Button,{htmlType:\"submit\",type:\"primary\",block:true},\"LOGIN\")))));};var mapStateToProps=function mapStateToProps(state){return{loginState:state.login};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{login:function login(params){return dispatch(_login(params));},loginReset:function loginReset(){return dispatch(_loginReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/Login/Login.js"],"names":["React","useState","useEffect","Button","Form","Input","connect","Redirect","LoginContainer","login","loginReset","Login","props","email","password","formData","setFormData","loginState","redirect","setRedirect","apiState","localStorage","setItem","data","token","JSON","stringify","user","handleSubmit","padding","border","background","borderRadius","minWidth","required","message","e","target","value","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Button, Form, Input } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\n\n/* custom component */\nimport { LoginContainer } from \"../../component/Xcomponent\"\n\n/* actions */\nimport { login, loginReset } from \"../../action/loginAction\"\n\nconst Login = props => {\n    /* variables */\n    const [formData, setFormData] = useState({\n        email: \"\",\n        password: \"\"\n    })\n    const { login, loginReset, loginState } = props\n    const [redirect, setRedirect] = useState([false, ''])\n\n    /* callbacks */\n    useEffect(() => {\n        return (() => loginReset())\n    }, [])\n\n    useEffect(() => {\n        if (loginState.apiState === \"success\") {\n            localStorage.setItem(\"PikyUserToken\", loginState.data.token)\n            localStorage.setItem(\"PikyUser\", JSON.stringify(loginState.data.user))\n            setRedirect([true, '/'])\n        }\n    }, [loginState])\n\n    /* function */\n    const handleSubmit = () => {\n        login(formData)\n    }\n\n    return (\n        <>\n            {redirect[0] &&\n                <Redirect to={redirect[1]} />}\n\n\n            <LoginContainer>\n                <div style={{ padding: 16, border: \"solid 1px #ccc\", background: \"#fff\", borderRadius: '10px', minWidth: 350 }} >\n                    <Form layout=\"vertical\" onFinish={handleSubmit}>\n                        <Form.Item\n                            label=\"Email\"\n                            name=\"email\"\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Input name=\"email\" placeholder=\"Email\" onChange={(e) => setFormData({ ...formData, ['email']: e.target.value })} />\n                        </Form.Item>\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Input.Password name=\"password\" placeholder=\"Password\" onChange={(e) => setFormData({ ...formData, ['password']: e.target.value })} />\n                        </Form.Item>\n                        <Button htmlType=\"submit\" type=\"primary\" block >LOGIN</Button>\n                    </Form>\n                </div>\n            </LoginContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({ loginState: state.login })\n\nconst mapDispatchToProps = (dispatch) => ({\n    login: (params) => dispatch(login(params)),\n    loginReset: () => dispatch(loginReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}
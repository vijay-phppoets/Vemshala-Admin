{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala-Admin/src/page/Login/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Form, Input } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n/* custom component */\n\nimport { LoginContainer } from \"../../component/Xcomponent\";\n/* actions */\n\nimport { login, loginReset } from \"../../action/loginAction\";\n\nconst Login = props => {\n  /* variables */\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    login,\n    loginReset,\n    loginState\n  } = props;\n  const [redirect, setRedirect] = useState([false, '']);\n  /* callbacks */\n\n  useEffect(() => {\n    return () => loginReset();\n  }, []);\n  useEffect(() => {\n    if (loginState.apiState === \"success\") {\n      localStorage.setItem(\"PikyUserToken\", loginState.data.token);\n      localStorage.setItem(\"PikyUser\", JSON.stringify(loginState.data.user));\n      setRedirect([true, '/']);\n    }\n  }, [loginState]);\n  /* function */\n\n  const handleSubmit = () => {\n    login(formData);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirect[0] && /*#__PURE__*/React.createElement(Redirect, {\n    to: redirect[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LoginContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: 16,\n      border: \"solid 1px #ccc\",\n      background: \"#fff\",\n      borderRadius: '10px',\n      minWidth: 350\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    layout: \"vertical\",\n    onFinish: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Email\",\n    name: \"email\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    placeholder: \"Email\",\n    onChange: e => setFormData({ ...formData,\n      ['email']: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Password\",\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    name: \"password\",\n    placeholder: \"Password\",\n    onChange: e => setFormData({ ...formData,\n      ['password']: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    htmlType: \"submit\",\n    type: \"primary\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"LOGIN\")))));\n};\n\nconst mapStateToProps = state => ({\n  loginState: state.login\n});\n\nconst mapDispatchToProps = dispatch => ({\n  login: params => dispatch(login(params)),\n  loginReset: () => dispatch(loginReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"names":["React","useState","useEffect","Button","Form","Input","connect","Redirect","LoginContainer","login","loginReset","Login","props","formData","setFormData","email","password","loginState","redirect","setRedirect","apiState","localStorage","setItem","data","token","JSON","stringify","user","handleSubmit","padding","border","background","borderRadius","minWidth","required","message","e","target","value","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/Login/Login.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Button, Form, Input } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\n\n/* custom component */\nimport { LoginContainer } from \"../../component/Xcomponent\"\n\n/* actions */\nimport { login, loginReset } from \"../../action/loginAction\"\n\nconst Login = props => {\n    /* variables */\n    const [formData, setFormData] = useState({\n        email: \"\",\n        password: \"\"\n    })\n    const { login, loginReset, loginState } = props\n    const [redirect, setRedirect] = useState([false, ''])\n\n    /* callbacks */\n    useEffect(() => {\n        return (() => loginReset())\n    }, [])\n\n    useEffect(() => {\n        if (loginState.apiState === \"success\") {\n            localStorage.setItem(\"PikyUserToken\", loginState.data.token)\n            localStorage.setItem(\"PikyUser\", JSON.stringify(loginState.data.user))\n            setRedirect([true, '/'])\n        }\n    }, [loginState])\n\n    /* function */\n    const handleSubmit = () => {\n        login(formData)\n    }\n\n    return (\n        <>\n            {redirect[0] &&\n                <Redirect to={redirect[1]} />}\n\n\n            <LoginContainer>\n                <div style={{ padding: 16, border: \"solid 1px #ccc\", background: \"#fff\", borderRadius: '10px', minWidth: 350 }} >\n                    <Form layout=\"vertical\" onFinish={handleSubmit}>\n                        <Form.Item\n                            label=\"Email\"\n                            name=\"email\"\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Input name=\"email\" placeholder=\"Email\" onChange={(e) => setFormData({ ...formData, ['email']: e.target.value })} />\n                        </Form.Item>\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Input.Password name=\"password\" placeholder=\"Password\" onChange={(e) => setFormData({ ...formData, ['password']: e.target.value })} />\n                        </Form.Item>\n                        <Button htmlType=\"submit\" type=\"primary\" block >LOGIN</Button>\n                    </Form>\n                </div>\n            </LoginContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({ loginState: state.login })\n\nconst mapDispatchToProps = (dispatch) => ({\n    login: (params) => dispatch(login(params)),\n    loginReset: () => dispatch(loginReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
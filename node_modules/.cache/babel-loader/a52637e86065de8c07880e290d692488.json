{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala-Admin/src/page/ProductVariants/ProductVariants.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { connect } from \"react-redux\";\nimport { Select, Form, Row, Col, Button, message, Divider, Alert, InputNumber, Table, Switch, Space, Popconfirm, Input } from \"antd\";\nimport _ from \"lodash\";\nimport { DeleteOutlined } from \"@ant-design/icons\";\n/* custom component */\n\nimport Header from \"../../component/Header/Header\";\nimport { PageContainer } from \"../../component/Xcomponent\";\nimport ProductTabs from \"../../component/ProductTabs/ProductTabs\";\n/* actions */\n\nimport { getProductView, getProductViewReset } from \"../../action/getProductViewAction\";\nimport { getAttributeList, getAttributeListReset } from \"../../action/getAttributeListAction\";\nimport { saveAttributeForVariants, saveAttributeForVariantsReset } from \"../../action/saveAttributeForVariantsAction\";\nimport { createProductVariant, createProductVariantReset } from \"../../action/createProductVariantAction\";\nimport { getProductVariantList, getProductVariantListReset } from \"../../action/getProductVariantListAction\";\nimport { saveSpProdData, saveSpProdDataReset } from \"../../action/saveSpProdDataAction\";\nimport { saveSpImgData, saveSpImgDataReset } from \"../../action/saveSpImgDataAction\";\nimport { delProdVar, delProdVarReset } from \"../../action/delProdVarAction\";\n\nconst ProductVariants = props => {\n  /* variables */\n  const product_id = props.match.params.product_id;\n  const {\n    getProductView,\n    getProductViewReset,\n    getProductViewState,\n    getAttributeList,\n    getAttributeListReset,\n    getAttributeListState,\n    saveAttributeForVariants,\n    saveAttributeForVariantsReset,\n    saveAttributeForVariantsState,\n    createProductVariant,\n    createProductVariantReset,\n    createProductVariantState,\n    getProductVariantList,\n    getProductVariantListReset,\n    getProductVariantListState,\n    saveSpProdData,\n    saveSpProdDataReset,\n    saveSpProdDataState,\n    saveSpImgData,\n    saveSpImgDataReset,\n    saveSpImgDataState,\n    delProdVar,\n    delProdVarReset,\n    delProdVarState\n  } = props;\n  const [attributes_for_variants, set_attributes_for_variants] = useState([]);\n  const [refresh, setRefresh] = useState(0);\n  const [form] = Form.useForm();\n  const [form2] = Form.useForm();\n  const [form3] = Form.useForm();\n  const [variant_data, set_variant_data] = useState({\n    attributes: [],\n    stock: 0,\n    price: 0,\n    product_id: product_id\n  });\n  const [columns, set_columns] = useState([]);\n  const [tableData, setTableData] = useState([]);\n  const [separateProductData, setSeparateProductData] = useState({\n    product_id: product_id,\n    display_separate: false,\n    attribute_id: \"\"\n  });\n  const [separateImgData, setSeparateImgData] = useState({\n    product_id: product_id,\n    display_separate: false,\n    attribute_id: \"\"\n  });\n  /* callbacks */\n\n  useEffect(() => {\n    return () => {\n      getProductViewReset();\n      getAttributeListReset();\n      saveAttributeForVariantsReset();\n      createProductVariantReset();\n      getProductVariantListReset();\n      saveSpProdDataReset();\n      saveSpImgDataReset();\n      delProdVarReset();\n    };\n  }, []);\n  useEffect(() => {\n    getProductView({\n      product_id: product_id\n    });\n    getAttributeList({\n      nature: \"variant\"\n    });\n  }, [refresh]);\n  useEffect(() => {\n    if (getProductViewState.apiState === \"success\") {\n      if (getProductViewState.product.attributes_for_variants) {\n        form.setFieldsValue({\n          attributes_for_variants: getProductViewState.product.attributes_for_variants.split(\",\")\n        });\n        set_attributes_for_variants(getProductViewState.product.attributes_for_variants.split(\",\"));\n      }\n\n      if (getProductViewState.product.variant_count > 0) {\n        getProductVariantList({\n          product_id: product_id\n        });\n      }\n\n      form2.setFieldsValue({\n        display_separate: getProductViewState.product.display_separate_product_by_attribute ? true : false,\n        display_separate_attribute_id: getProductViewState.product.display_separate_product_by_attribute\n      });\n      setSeparateProductData({ ...separateProductData,\n        [\"display_separate\"]: getProductViewState.product.display_separate_product_by_attribute ? true : false,\n        [\"attribute_id\"]: getProductViewState.product.display_separate_product_by_attribute\n      });\n      form3.setFieldsValue({\n        display_separate_img: getProductViewState.product.attribute_for_separate_images ? true : false,\n        display_separate_img_attribute_id: getProductViewState.product.attribute_for_separate_images\n      });\n      setSeparateImgData({ ...separateImgData,\n        [\"display_separate\"]: getProductViewState.product.attribute_for_separate_images ? true : false,\n        [\"attribute_id\"]: getProductViewState.product.attribute_for_separate_images\n      });\n    }\n  }, [getProductViewState]);\n  useEffect(() => {\n    if (saveAttributeForVariantsState.apiState === \"success\") {\n      message.success(saveAttributeForVariantsState.message);\n      setRefresh(refresh + 1);\n      saveAttributeForVariantsReset();\n    }\n\n    if (saveAttributeForVariantsState.apiState === \"error\") {\n      saveAttributeForVariantsReset();\n      message.error(saveAttributeForVariantsState.message);\n    }\n  }, [saveAttributeForVariantsState]);\n  useEffect(() => {\n    if (createProductVariantState.apiState === \"success\") {\n      setRefresh(refresh + 1);\n      createProductVariantReset();\n      message.success(createProductVariantState.message);\n    }\n\n    if (createProductVariantState.apiState === \"error\") {\n      createProductVariantReset();\n      message.error(createProductVariantState.message);\n    }\n  }, [createProductVariantState]);\n  useEffect(() => {\n    if (getProductVariantListState.apiState === \"success\") {\n      let columns = [];\n      getProductVariantListState.list[0].attributes.map(obj => {\n        columns.push({\n          title: obj.name,\n          dataIndex: obj.name,\n          key: obj.name\n        });\n      });\n      columns.push({\n        title: \"Name\",\n        dataIndex: \"name\",\n        key: \"name\"\n      }, {\n        title: \"Price\",\n        dataIndex: \"price\",\n        key: \"Price\"\n      }, {\n        title: \"Is Sale Price\",\n        dataIndex: \"is_sale_price\",\n        key: \"is_sale_price\"\n      }, {\n        title: \"Sale Price\",\n        dataIndex: \"sale_price\",\n        key: \"sale_price\"\n      }, {\n        title: \"Stock\",\n        dataIndex: \"stock\",\n        key: \"Stock\"\n      }, {\n        title: 'Action',\n        dataIndex: 'id',\n        key: 'action',\n        render: id => /*#__PURE__*/React.createElement(Popconfirm, {\n          title: \"Are you sure to delete this variant?\",\n          onConfirm: () => delProdVar({\n            product_id: product_id,\n            product_variant_id: id\n          }),\n          okText: \"Delete\",\n          cancelText: \"Cancel\",\n          okType: \"danger\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Button, {\n          size: \"small\",\n          icon: /*#__PURE__*/React.createElement(DeleteOutlined, {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 52\n            }\n          }),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }\n        }))\n      });\n      set_columns(columns);\n      let tableData = [];\n      getProductVariantListState.list.map(p => {\n        let rowObj = {};\n        rowObj.key = p.id;\n        rowObj.name = p.name;\n        rowObj.price = p.price;\n        rowObj.is_sale_price = p.is_sale_price;\n        rowObj.sale_price = p.sale_price;\n        rowObj.stock = p.stock;\n        rowObj.id = p.id;\n        p.attributes.map(obj => {\n          rowObj[obj.name] = obj.option_value;\n        });\n        tableData.push(rowObj);\n      });\n      setTableData(tableData);\n    }\n  }, [getProductVariantListState]);\n  useEffect(() => {\n    if (saveSpProdDataState.apiState === \"success\") {\n      setRefresh(refresh + 1);\n      saveSpProdDataReset();\n      message.success(saveSpProdDataState.message);\n    }\n\n    if (saveSpProdDataState.apiState === \"error\") {\n      saveSpProdDataReset();\n      message.error(saveSpProdDataState.message);\n    }\n  }, [saveSpProdDataState]);\n  useEffect(() => {\n    if (saveSpImgDataState.apiState === \"success\") {\n      setRefresh(refresh + 1);\n      saveSpImgDataReset();\n      message.success(saveSpImgDataState.message);\n    }\n\n    if (saveSpImgDataState.apiState === \"error\") {\n      saveSpImgDataReset();\n      message.error(saveSpImgDataState.message);\n    }\n  }, [saveSpImgDataState]);\n  useEffect(() => {\n    if (delProdVarState.apiState === \"success\") {\n      message.success(delProdVarState.message);\n      setRefresh(refresh + 1);\n      delProdVarReset();\n    }\n\n    if (delProdVarState.apiState === \"error\") {\n      delProdVarReset();\n      message.error(delProdVarState.message);\n    }\n  }, [delProdVarState]);\n  /* functions */\n\n  const handleAttributeForVariantsSubmit = () => {\n    saveAttributeForVariants({\n      product_id: product_id,\n      attributes: attributes_for_variants\n    });\n  };\n\n  const handleAttributeChange = obj => {\n    let arr = variant_data.attributes;\n\n    if (_.findIndex(arr, {\n      'attr_id': obj.attr_id\n    }) > -1) {\n      arr = arr.filter(item => item.attr_id !== obj.attr_id);\n    }\n\n    arr.push(obj);\n    set_variant_data({ ...variant_data,\n      ['attributes']: arr\n    });\n  };\n\n  const renderVariantForm = () => {\n    let jsx = [];\n    getAttributeListState.list.map(attr => {\n      let attributes_for_variants = getProductViewState.product.attributes_for_variants.split(\",\");\n\n      if (attributes_for_variants.includes(attr.id)) {\n        jsx.push( /*#__PURE__*/React.createElement(Col, {\n          span: \"6\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 282,\n            columnNumber: 21\n          }\n        }, /*#__PURE__*/React.createElement(Form.Item, {\n          name: `attribute_${attr.id}`,\n          label: `${attr.name}`,\n          rules: [{\n            required: true,\n            message: 'Required'\n          }],\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(Select, {\n          onChange: v => handleAttributeChange({\n            attr_id: attr.id,\n            option_id: v\n          }),\n          placeholder: `Select ${attr.name}`,\n          name: `attribute_${attr.id}`,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 288,\n            columnNumber: 29\n          }\n        }, attr.options.map(option => /*#__PURE__*/React.createElement(Select.Option, {\n          key: option.id,\n          value: option.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 37\n          }\n        }, option.option_value))))));\n      }\n    });\n    jsx.push( /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n      span: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"name\",\n      label: \"Name\",\n      rules: [{\n        required: true,\n        message: 'Required'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Input, {\n      name: \"name\",\n      placeholder: \"Enter Name\",\n      onChange: e => set_variant_data({ ...variant_data,\n        [\"name\"]: e.target.value\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"price\",\n      label: \"Price\",\n      rules: [{\n        required: true,\n        message: 'Required'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputNumber, {\n      name: \"price\",\n      placeholder: \"Enter Price\",\n      style: {\n        width: \"100%\"\n      },\n      onChange: v => set_variant_data({ ...variant_data,\n        [\"price\"]: v\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"is_sale_price\",\n      label: \"Set Sale Price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(Select, {\n      name: \"is_sale_price\",\n      placeholder: \"Select Sale Price Rule\",\n      defaultValue: \"no\",\n      onSelect: v => set_variant_data({ ...variant_data,\n        [\"is_sale_price\"]: v\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 25\n      }\n    }, /*#__PURE__*/React.createElement(Select.Option, {\n      key: \"yes\",\n      value: \"yes\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 334,\n        columnNumber: 29\n      }\n    }, \"Yes\"), /*#__PURE__*/React.createElement(Select.Option, {\n      key: \"no\",\n      value: \"no\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 335,\n        columnNumber: 29\n      }\n    }, \"No\")))), /*#__PURE__*/React.createElement(Col, {\n      span: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 339,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"sale_price\",\n      label: \"Sale Price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputNumber, {\n      name: \"sale_price\",\n      placeholder: \"Enter Sale Price\",\n      style: {\n        width: \"100%\"\n      },\n      onChange: v => set_variant_data({ ...variant_data,\n        [\"sale_price\"]: v\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 25\n      }\n    }))), /*#__PURE__*/React.createElement(Col, {\n      span: \"6\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 349,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Form.Item, {\n      name: \"stock\",\n      label: \"Stock\",\n      rules: [{\n        required: true,\n        message: 'Required'\n      }],\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 21\n      }\n    }, /*#__PURE__*/React.createElement(InputNumber, {\n      name: \"stock\",\n      placeholder: \"Enter Stock\",\n      style: {\n        width: \"100%\"\n      },\n      onChange: v => set_variant_data({ ...variant_data,\n        [\"stock\"]: v\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 25\n      }\n    })))));\n    return jsx;\n  };\n\n  const handleCreateVariantSubmit = () => {\n    createProductVariant(variant_data);\n  };\n\n  const handleSpProdDataSub = () => {\n    if (separateProductData.display_separate) {\n      if (!separateProductData.attribute_id) {\n        alert(\"Select an attribute\");\n        return;\n      }\n    }\n\n    saveSpProdData(separateProductData);\n  };\n\n  const handleSpImgDataSub = () => {\n    if (separateImgData.display_separate) {\n      if (!separateImgData.attribute_id) {\n        alert(\"Select an attribute\");\n        return;\n      }\n    }\n\n    saveSpImgData(separateImgData);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    title: \"Edit Product\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 396,\n      columnNumber: 13\n    }\n  }, getProductViewState.apiState === \"success\" && getAttributeListState.apiState === \"success\" && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ProductTabs, {\n    id: getProductViewState.product.id,\n    active: \"variants\",\n    type: getProductViewState.product.type,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 399,\n      columnNumber: 25\n    }\n  }), getProductViewState.product.variant_count === 0 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: \"18\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 403,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    form: form,\n    layout: \"vertical\",\n    onFinish: handleAttributeForVariantsSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"attributes_for_variants\",\n    label: \"Select attributes to create variants\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 405,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    onChange: v => set_attributes_for_variants(v),\n    placeholder: \"Select attributes to create variants\",\n    mode: \"multiple\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 410,\n      columnNumber: 49\n    }\n  }, getAttributeListState.list.map(attr => /*#__PURE__*/React.createElement(Select.Option, {\n    key: attr.id,\n    value: attr.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 416,\n      columnNumber: 57\n    }\n  }, `${attr.name} (${attr.type})`)))), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 420,\n      columnNumber: 45\n    }\n  }, \"NEXT\")))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 33\n    }\n  })), getProductViewState.product.variant_count > 0 && /*#__PURE__*/React.createElement(Alert, {\n    message: \"Do you want to change attribute set for product variant? For that you need to delete below variants.\",\n    type: \"info\",\n    showIcon: true,\n    style: {\n      marginBottom: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 29\n    }\n  }), getProductViewState.product.attributes_for_variants && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 33\n    }\n  }, \"Create Variant\"), /*#__PURE__*/React.createElement(Form, {\n    layout: \"vertical\",\n    onFinish: handleCreateVariantSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 436,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 437,\n      columnNumber: 37\n    }\n  }, renderVariantForm()), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 37\n    }\n  }, \"CREATE VARIANT\")), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 442,\n      columnNumber: 33\n    }\n  })), getProductVariantListState.list.length > 0 && /*#__PURE__*/React.createElement(Table, {\n    dataSource: tableData,\n    columns: columns,\n    size: \"small\",\n    pagination: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 29\n    }\n  }), getProductViewState.product.attributes_for_variants && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h3\", {\n    style: {\n      marginTop: 24\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 499,\n      columnNumber: 33\n    }\n  }, \"Do you want to display separate images by attribute?\"), /*#__PURE__*/React.createElement(Form, {\n    form: form3,\n    layout: \"vertical\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 501,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: \"20\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 502,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: 3,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"display_separate_img\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 504,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    name: \"display_separate_img\",\n    onChange: checked => setSeparateImgData({ ...separateImgData,\n      [\"display_separate\"]: checked\n    }),\n    defaultChecked: getProductViewState.product.attribute_for_separate_images ? true : false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 505,\n      columnNumber: 49\n    }\n  }))), separateImgData.display_separate && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Col, {\n    span: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 513,\n      columnNumber: 49\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    name: \"display_separate_img_attribute_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 514,\n      columnNumber: 53\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    onChange: v => setSeparateImgData({ ...separateImgData,\n      [\"attribute_id\"]: v\n    }),\n    placeholder: \"Select attribute\",\n    style: {\n      width: \"100%\"\n    },\n    name: \"display_separate_img_attribute_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 515,\n      columnNumber: 57\n    }\n  }, getAttributeListState.list.map(attr => {\n    if (attributes_for_variants.includes(attr.id)) {\n      return /*#__PURE__*/React.createElement(Select.Option, {\n        key: attr.id,\n        value: attr.id,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 524,\n          columnNumber: 73\n        }\n      }, `${attr.name}`);\n    }\n  }))))), /*#__PURE__*/React.createElement(Col, {\n    span: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 535,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    onClick: handleSpImgDataSub,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 536,\n      columnNumber: 45\n    }\n  }, \"SAVE\"))))))));\n};\n\nconst mapStateToProps = state => ({\n  getProductViewState: state.getProductView,\n  getAttributeListState: state.getAttributeList,\n  saveAttributeForVariantsState: state.saveAttributeForVariants,\n  createProductVariantState: state.createProductVariant,\n  getProductVariantListState: state.getProductVariantList,\n  saveSpProdDataState: state.saveSpProdData,\n  saveSpImgDataState: state.saveSpImgData,\n  delProdVarState: state.delProdVar\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getProductView: params => dispatch(getProductView(params)),\n  getProductViewReset: () => dispatch(getProductViewReset()),\n  getAttributeList: params => dispatch(getAttributeList(params)),\n  getAttributeListReset: () => dispatch(getAttributeListReset()),\n  saveAttributeForVariants: params => dispatch(saveAttributeForVariants(params)),\n  saveAttributeForVariantsReset: () => dispatch(saveAttributeForVariantsReset()),\n  createProductVariant: params => dispatch(createProductVariant(params)),\n  createProductVariantReset: () => dispatch(createProductVariantReset()),\n  getProductVariantList: params => dispatch(getProductVariantList(params)),\n  getProductVariantListReset: () => dispatch(getProductVariantListReset()),\n  saveSpProdData: params => dispatch(saveSpProdData(params)),\n  saveSpProdDataReset: () => dispatch(saveSpProdDataReset()),\n  saveSpImgData: params => dispatch(saveSpImgData(params)),\n  saveSpImgDataReset: () => dispatch(saveSpImgDataReset()),\n  delProdVar: params => dispatch(delProdVar(params)),\n  delProdVarReset: () => dispatch(delProdVarReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductVariants);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/ProductVariants/ProductVariants.js"],"names":["React","useState","useEffect","connect","Select","Form","Row","Col","Button","message","Divider","Alert","InputNumber","Table","Switch","Space","Popconfirm","Input","_","DeleteOutlined","Header","PageContainer","ProductTabs","getProductView","getProductViewReset","getAttributeList","getAttributeListReset","saveAttributeForVariants","saveAttributeForVariantsReset","createProductVariant","createProductVariantReset","getProductVariantList","getProductVariantListReset","saveSpProdData","saveSpProdDataReset","saveSpImgData","saveSpImgDataReset","delProdVar","delProdVarReset","ProductVariants","props","product_id","match","params","getProductViewState","getAttributeListState","saveAttributeForVariantsState","createProductVariantState","getProductVariantListState","saveSpProdDataState","saveSpImgDataState","delProdVarState","attributes_for_variants","set_attributes_for_variants","refresh","setRefresh","form","useForm","form2","form3","variant_data","set_variant_data","attributes","stock","price","columns","set_columns","tableData","setTableData","separateProductData","setSeparateProductData","display_separate","attribute_id","separateImgData","setSeparateImgData","nature","apiState","product","setFieldsValue","split","variant_count","display_separate_product_by_attribute","display_separate_attribute_id","display_separate_img","attribute_for_separate_images","display_separate_img_attribute_id","success","error","list","map","obj","push","title","name","dataIndex","key","render","id","product_variant_id","p","rowObj","is_sale_price","sale_price","option_value","handleAttributeForVariantsSubmit","handleAttributeChange","arr","findIndex","attr_id","filter","item","renderVariantForm","jsx","attr","includes","required","v","option_id","options","option","e","target","value","width","handleCreateVariantSubmit","handleSpProdDataSub","alert","handleSpImgDataSub","type","marginBottom","length","marginTop","checked","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { connect } from \"react-redux\"\nimport {\n    Select, Form, Row, Col, Button, message, Divider, Alert, InputNumber, Table, Switch,\n    Space, Popconfirm, Input\n} from \"antd\"\nimport _ from \"lodash\"\nimport { DeleteOutlined } from \"@ant-design/icons\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport ProductTabs from \"../../component/ProductTabs/ProductTabs\"\n\n/* actions */\nimport { getProductView, getProductViewReset } from \"../../action/getProductViewAction\"\nimport { getAttributeList, getAttributeListReset } from \"../../action/getAttributeListAction\"\nimport { saveAttributeForVariants, saveAttributeForVariantsReset } from \"../../action/saveAttributeForVariantsAction\"\nimport { createProductVariant, createProductVariantReset } from \"../../action/createProductVariantAction\"\nimport { getProductVariantList, getProductVariantListReset } from \"../../action/getProductVariantListAction\"\nimport { saveSpProdData, saveSpProdDataReset } from \"../../action/saveSpProdDataAction\"\nimport { saveSpImgData, saveSpImgDataReset } from \"../../action/saveSpImgDataAction\"\nimport { delProdVar, delProdVarReset } from \"../../action/delProdVarAction\"\n\nconst ProductVariants = props => {\n    /* variables */\n    const product_id = props.match.params.product_id\n    const {\n        getProductView, getProductViewReset, getProductViewState,\n        getAttributeList, getAttributeListReset, getAttributeListState,\n        saveAttributeForVariants, saveAttributeForVariantsReset, saveAttributeForVariantsState,\n        createProductVariant, createProductVariantReset, createProductVariantState,\n        getProductVariantList, getProductVariantListReset, getProductVariantListState,\n        saveSpProdData, saveSpProdDataReset, saveSpProdDataState,\n        saveSpImgData, saveSpImgDataReset, saveSpImgDataState,\n        delProdVar, delProdVarReset, delProdVarState,\n    } = props\n    const [attributes_for_variants, set_attributes_for_variants] = useState([])\n    const [refresh, setRefresh] = useState(0)\n    const [form] = Form.useForm()\n    const [form2] = Form.useForm()\n    const [form3] = Form.useForm()\n    const [variant_data, set_variant_data] = useState({\n        attributes: [],\n        stock: 0,\n        price: 0,\n        product_id: product_id\n    })\n    const [columns, set_columns] = useState([])\n    const [tableData, setTableData] = useState([])\n    const [separateProductData, setSeparateProductData] = useState({\n        product_id: product_id,\n        display_separate: false,\n        attribute_id: \"\"\n    })\n    const [separateImgData, setSeparateImgData] = useState({\n        product_id: product_id,\n        display_separate: false,\n        attribute_id: \"\"\n    })\n\n    /* callbacks */\n    useEffect(() => {\n        return (() => {\n            getProductViewReset()\n            getAttributeListReset()\n            saveAttributeForVariantsReset()\n            createProductVariantReset()\n            getProductVariantListReset()\n            saveSpProdDataReset()\n            saveSpImgDataReset()\n            delProdVarReset()\n        })\n    }, [])\n\n\n    useEffect(() => {\n        getProductView({\n            product_id: product_id\n        })\n        getAttributeList({\n            nature: \"variant\"\n        })\n    }, [refresh])\n\n    useEffect(() => {\n        if (getProductViewState.apiState === \"success\") {\n            if (getProductViewState.product.attributes_for_variants) {\n                form.setFieldsValue({\n                    attributes_for_variants: getProductViewState.product.attributes_for_variants.split(\",\")\n                })\n                set_attributes_for_variants(getProductViewState.product.attributes_for_variants.split(\",\"))\n            }\n\n            if (getProductViewState.product.variant_count > 0) {\n                getProductVariantList({ product_id: product_id })\n            }\n\n            form2.setFieldsValue({\n                display_separate: getProductViewState.product.display_separate_product_by_attribute ? true : false,\n                display_separate_attribute_id: getProductViewState.product.display_separate_product_by_attribute,\n            })\n            setSeparateProductData({\n                ...separateProductData,\n                [\"display_separate\"]: getProductViewState.product.display_separate_product_by_attribute ? true : false,\n                [\"attribute_id\"]: getProductViewState.product.display_separate_product_by_attribute\n            })\n\n            form3.setFieldsValue({\n                display_separate_img: getProductViewState.product.attribute_for_separate_images ? true : false,\n                display_separate_img_attribute_id: getProductViewState.product.attribute_for_separate_images,\n            })\n            setSeparateImgData({\n                ...separateImgData,\n                [\"display_separate\"]: getProductViewState.product.attribute_for_separate_images ? true : false,\n                [\"attribute_id\"]: getProductViewState.product.attribute_for_separate_images\n            })\n\n        }\n    }, [getProductViewState])\n\n    useEffect(() => {\n        if (saveAttributeForVariantsState.apiState === \"success\") {\n            message.success(saveAttributeForVariantsState.message);\n            setRefresh(refresh + 1)\n            saveAttributeForVariantsReset()\n        }\n\n        if (saveAttributeForVariantsState.apiState === \"error\") {\n            saveAttributeForVariantsReset()\n            message.error(saveAttributeForVariantsState.message);\n        }\n    }, [saveAttributeForVariantsState])\n\n    useEffect(() => {\n        if (createProductVariantState.apiState === \"success\") {\n            setRefresh(refresh + 1)\n            createProductVariantReset()\n            message.success(createProductVariantState.message);\n        }\n\n        if (createProductVariantState.apiState === \"error\") {\n            createProductVariantReset()\n            message.error(createProductVariantState.message);\n        }\n    }, [createProductVariantState])\n\n    useEffect(() => {\n        if (getProductVariantListState.apiState === \"success\") {\n            let columns = []\n\n            getProductVariantListState.list[0].attributes.map(obj => {\n                columns.push({\n                    title: obj.name,\n                    dataIndex: obj.name,\n                    key: obj.name,\n                })\n            })\n            columns.push({\n                title: \"Name\",\n                dataIndex: \"name\",\n                key: \"name\",\n            }, {\n                title: \"Price\",\n                dataIndex: \"price\",\n                key: \"Price\",\n            }, {\n                title: \"Is Sale Price\",\n                dataIndex: \"is_sale_price\",\n                key: \"is_sale_price\",\n            }, {\n                title: \"Sale Price\",\n                dataIndex: \"sale_price\",\n                key: \"sale_price\",\n            }, {\n                title: \"Stock\",\n                dataIndex: \"stock\",\n                key: \"Stock\",\n            }, {\n                title: 'Action',\n                dataIndex: 'id',\n                key: 'action',\n                render: (id) => (\n                    <Popconfirm\n                        title=\"Are you sure to delete this variant?\"\n                        onConfirm={() => delProdVar({\n                            product_id: product_id,\n                            product_variant_id: id\n                        })}\n                        okText=\"Delete\"\n                        cancelText=\"Cancel\"\n                        okType=\"danger\"\n                    >\n                        <Button size=\"small\" icon={<DeleteOutlined />} />\n                    </Popconfirm>\n                )\n            })\n            set_columns(columns)\n\n            let tableData = []\n            getProductVariantListState.list.map(p => {\n                let rowObj = {}\n                rowObj.key = p.id\n                rowObj.name = p.name\n                rowObj.price = p.price\n                rowObj.is_sale_price = p.is_sale_price\n                rowObj.sale_price = p.sale_price\n                rowObj.stock = p.stock\n                rowObj.id = p.id\n                p.attributes.map(obj => {\n                    rowObj[obj.name] = obj.option_value\n                })\n                tableData.push(rowObj)\n            })\n            setTableData(tableData)\n        }\n    }, [getProductVariantListState])\n\n    useEffect(() => {\n        if (saveSpProdDataState.apiState === \"success\") {\n            setRefresh(refresh + 1)\n            saveSpProdDataReset()\n            message.success(saveSpProdDataState.message);\n        }\n\n        if (saveSpProdDataState.apiState === \"error\") {\n            saveSpProdDataReset()\n            message.error(saveSpProdDataState.message);\n        }\n    }, [saveSpProdDataState])\n\n    useEffect(() => {\n        if (saveSpImgDataState.apiState === \"success\") {\n            setRefresh(refresh + 1)\n            saveSpImgDataReset()\n            message.success(saveSpImgDataState.message);\n        }\n\n        if (saveSpImgDataState.apiState === \"error\") {\n            saveSpImgDataReset()\n            message.error(saveSpImgDataState.message);\n        }\n    }, [saveSpImgDataState])\n\n    useEffect(() => {\n        if (delProdVarState.apiState === \"success\") {\n            message.success(delProdVarState.message);\n            setRefresh(refresh + 1)\n            delProdVarReset()\n        }\n\n        if (delProdVarState.apiState === \"error\") {\n            delProdVarReset()\n            message.error(delProdVarState.message);\n        }\n    }, [delProdVarState])\n\n\n    /* functions */\n    const handleAttributeForVariantsSubmit = () => {\n        saveAttributeForVariants({\n            product_id: product_id,\n            attributes: attributes_for_variants\n        })\n    }\n\n    const handleAttributeChange = (obj) => {\n        let arr = variant_data.attributes\n        if (_.findIndex(arr, { 'attr_id': obj.attr_id }) > -1) {\n            arr = arr.filter(item => item.attr_id !== obj.attr_id)\n        }\n        arr.push(obj)\n        set_variant_data({ ...variant_data, ['attributes']: arr })\n    }\n\n    const renderVariantForm = () => {\n        let jsx = []\n        getAttributeListState.list.map(attr => {\n            let attributes_for_variants = getProductViewState.product.attributes_for_variants.split(\",\")\n            if (attributes_for_variants.includes(attr.id)) {\n                jsx.push(\n                    <Col span=\"6\">\n                        <Form.Item\n                            name={`attribute_${attr.id}`}\n                            label={`${attr.name}`}\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Select\n                                onChange={v => handleAttributeChange({ attr_id: attr.id, option_id: v })}\n                                placeholder={`Select ${attr.name}`}\n                                name={`attribute_${attr.id}`}\n                            >\n                                {attr.options.map(option => (\n                                    <Select.Option key={option.id} value={option.id} >{option.option_value}</Select.Option>\n                                ))}\n                            </Select>\n                        </Form.Item>\n                    </Col>\n                )\n            }\n        })\n        jsx.push(\n            <>\n                <Col span=\"6\">\n                    <Form.Item\n                        name=\"name\"\n                        label=\"Name\"\n                        rules={[{ required: true, message: 'Required' }]}\n                    >\n                        <Input name=\"name\" placeholder=\"Enter Name\"\n                            onChange={e => set_variant_data({ ...variant_data, [\"name\"]: e.target.value })}\n                        />\n                    </Form.Item>\n                </Col>\n                <Col span=\"6\">\n                    <Form.Item\n                        name=\"price\"\n                        label=\"Price\"\n                        rules={[{ required: true, message: 'Required' }]}\n                    >\n                        <InputNumber name=\"price\" placeholder=\"Enter Price\" style={{ width: \"100%\" }}\n                            onChange={v => set_variant_data({ ...variant_data, [\"price\"]: v })}\n                        />\n                    </Form.Item>\n                </Col>\n                <Col span=\"6\">\n                    <Form.Item\n                        name=\"is_sale_price\"\n                        label=\"Set Sale Price\"\n                    >\n                        <Select name=\"is_sale_price\" placeholder=\"Select Sale Price Rule\" defaultValue=\"no\"\n                            onSelect={v => set_variant_data({ ...variant_data, [\"is_sale_price\"]: v })}\n                        >\n                            <Select.Option key=\"yes\" value=\"yes\">Yes</Select.Option>\n                            <Select.Option key=\"no\" value=\"no\">No</Select.Option>\n                        </Select>\n                    </Form.Item>\n                </Col>\n                <Col span=\"6\">\n                    <Form.Item\n                        name=\"sale_price\"\n                        label=\"Sale Price\"\n                    >\n                        <InputNumber name=\"sale_price\" placeholder=\"Enter Sale Price\" style={{ width: \"100%\" }}\n                            onChange={v => set_variant_data({ ...variant_data, [\"sale_price\"]: v })}\n                        />\n                    </Form.Item>\n                </Col>\n                <Col span=\"6\">\n                    <Form.Item\n                        name=\"stock\"\n                        label=\"Stock\"\n                        rules={[{ required: true, message: 'Required' }]}\n                    >\n                        <InputNumber name=\"stock\" placeholder=\"Enter Stock\" style={{ width: \"100%\" }}\n                            onChange={v => set_variant_data({ ...variant_data, [\"stock\"]: v })}\n                        />\n                    </Form.Item>\n                </Col>\n            </>\n        )\n        return jsx\n    }\n\n    const handleCreateVariantSubmit = () => {\n        createProductVariant(variant_data)\n    }\n\n    const handleSpProdDataSub = () => {\n        if (separateProductData.display_separate) {\n            if (!separateProductData.attribute_id) {\n                alert(\"Select an attribute\")\n                return\n            }\n        }\n\n        saveSpProdData(separateProductData)\n    }\n\n    const handleSpImgDataSub = () => {\n        if (separateImgData.display_separate) {\n            if (!separateImgData.attribute_id) {\n                alert(\"Select an attribute\")\n                return\n            }\n        }\n\n        saveSpImgData(separateImgData)\n    }\n\n    return (\n        <>\n            <Header\n                title=\"Edit Product\"\n            />\n            <PageContainer>\n                {(getProductViewState.apiState === \"success\" && getAttributeListState.apiState === \"success\") &&\n                    <>\n                        <ProductTabs id={getProductViewState.product.id} active=\"variants\" type={getProductViewState.product.type} />\n                        {getProductViewState.product.variant_count === 0 &&\n                            <>\n                                <Row >\n                                    <Col span=\"18\">\n                                        <Form form={form} layout=\"vertical\" onFinish={handleAttributeForVariantsSubmit}>\n                                            <Form.Item\n                                                name=\"attributes_for_variants\"\n                                                label=\"Select attributes to create variants\"\n                                                rules={[{ required: true, message: 'Required' }]}\n                                            >\n                                                <Select\n                                                    onChange={v => set_attributes_for_variants(v)}\n                                                    placeholder=\"Select attributes to create variants\"\n                                                    mode=\"multiple\"\n                                                >\n                                                    {getAttributeListState.list.map(attr => (\n                                                        <Select.Option key={attr.id} value={attr.id} >{`${attr.name} (${attr.type})`}</Select.Option>\n                                                    ))}\n                                                </Select>\n                                            </Form.Item>\n                                            <Button type=\"primary\" htmlType=\"submit\" >NEXT</Button>\n                                        </Form>\n                                    </Col>\n                                </Row>\n                                <Divider />\n                            </>\n                        }\n\n                        {getProductViewState.product.variant_count > 0 &&\n                            <Alert message=\"Do you want to change attribute set for product variant? For that you need to delete below variants.\"\n                                type=\"info\" showIcon style={{ marginBottom: 24 }} />\n                        }\n\n                        {getProductViewState.product.attributes_for_variants &&\n                            <>\n                                <h3>Create Variant</h3>\n                                <Form layout=\"vertical\" onFinish={handleCreateVariantSubmit} >\n                                    <Row gutter=\"20\" >\n                                        {renderVariantForm()}\n                                    </Row>\n                                    <Button type=\"primary\" htmlType=\"submit\" >CREATE VARIANT</Button>\n                                </Form>\n                                <Divider />\n                            </>\n                        }\n\n                        {(getProductVariantListState.list).length > 0 &&\n                            <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n                        }\n\n                        {/* {getProductViewState.product.attributes_for_variants &&\n                            <>\n                                <h3 style={{ marginTop: 24 }} >Do you want to display separate products on product-list by attribute?</h3>\n\n                                <Form form={form2} layout=\"vertical\" >\n                                    <Row gutter=\"20\" >\n                                        <Col span={3}>\n                                            <Form.Item name=\"display_separate\">\n                                                <Switch name=\"display_separate\"\n                                                    onChange={(checked) => setSeparateProductData({ ...separateProductData, [\"display_separate\"]: checked })}\n                                                    defaultChecked={getProductViewState.product.display_separate_product_by_attribute ? true : false}\n                                                />\n                                            </Form.Item>\n                                        </Col>\n                                        {separateProductData.display_separate &&\n                                            <>\n                                                <Col span={8}>\n                                                    <Form.Item name=\"display_separate_attribute_id\">\n                                                        <Select\n                                                            onChange={v => setSeparateProductData({ ...separateProductData, [\"attribute_id\"]: v })}\n                                                            placeholder=\"Select attribute\"\n                                                            style={{ width: \"100%\" }}\n                                                            name=\"display_separate_attribute_id\"\n                                                        >\n                                                            {getAttributeListState.list.map(attr => {\n                                                                if (attributes_for_variants.includes(attr.id)) {\n                                                                    return (\n                                                                        <Select.Option key={attr.id} value={attr.id} >{`${attr.name}`}</Select.Option>\n                                                                    )\n                                                                }\n                                                            }\n                                                            )}\n                                                        </Select>\n                                                    </Form.Item>\n                                                </Col>\n\n                                            </>\n                                        }\n                                        <Col span={4}>\n                                            <Button type=\"primary\" onClick={handleSpProdDataSub} >SAVE</Button>\n                                        </Col>\n                                    </Row>\n                                </Form>\n                            </>\n                        } */}\n\n\n                        {getProductViewState.product.attributes_for_variants &&\n                            <>\n                                <h3 style={{ marginTop: 24 }} >Do you want to display separate images by attribute?</h3>\n\n                                <Form form={form3} layout=\"vertical\" >\n                                    <Row gutter=\"20\" >\n                                        <Col span={3}>\n                                            <Form.Item name=\"display_separate_img\">\n                                                <Switch name=\"display_separate_img\"\n                                                    onChange={(checked) => setSeparateImgData({ ...separateImgData, [\"display_separate\"]: checked })}\n                                                    defaultChecked={getProductViewState.product.attribute_for_separate_images ? true : false}\n                                                />\n                                            </Form.Item>\n                                        </Col>\n                                        {separateImgData.display_separate &&\n                                            <>\n                                                <Col span={8}>\n                                                    <Form.Item name=\"display_separate_img_attribute_id\">\n                                                        <Select\n                                                            onChange={v => setSeparateImgData({ ...separateImgData, [\"attribute_id\"]: v })}\n                                                            placeholder=\"Select attribute\"\n                                                            style={{ width: \"100%\" }}\n                                                            name=\"display_separate_img_attribute_id\"\n                                                        >\n                                                            {getAttributeListState.list.map(attr => {\n                                                                if (attributes_for_variants.includes(attr.id)) {\n                                                                    return (\n                                                                        <Select.Option key={attr.id} value={attr.id} >{`${attr.name}`}</Select.Option>\n                                                                    )\n                                                                }\n                                                            }\n                                                            )}\n                                                        </Select>\n                                                    </Form.Item>\n                                                </Col>\n\n                                            </>\n                                        }\n                                        <Col span={4}>\n                                            <Button type=\"primary\" onClick={handleSpImgDataSub} >SAVE</Button>\n                                        </Col>\n                                    </Row>\n                                </Form>\n                            </>\n                        }\n\n\n                    </>\n                }\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getProductViewState: state.getProductView,\n    getAttributeListState: state.getAttributeList,\n    saveAttributeForVariantsState: state.saveAttributeForVariants,\n    createProductVariantState: state.createProductVariant,\n    getProductVariantListState: state.getProductVariantList,\n    saveSpProdDataState: state.saveSpProdData,\n    saveSpImgDataState: state.saveSpImgData,\n    delProdVarState: state.delProdVar,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getProductView: (params) => dispatch(getProductView(params)),\n    getProductViewReset: () => dispatch(getProductViewReset()),\n    getAttributeList: (params) => dispatch(getAttributeList(params)),\n    getAttributeListReset: () => dispatch(getAttributeListReset()),\n    saveAttributeForVariants: (params) => dispatch(saveAttributeForVariants(params)),\n    saveAttributeForVariantsReset: () => dispatch(saveAttributeForVariantsReset()),\n    createProductVariant: (params) => dispatch(createProductVariant(params)),\n    createProductVariantReset: () => dispatch(createProductVariantReset()),\n    getProductVariantList: (params) => dispatch(getProductVariantList(params)),\n    getProductVariantListReset: () => dispatch(getProductVariantListReset()),\n    saveSpProdData: (params) => dispatch(saveSpProdData(params)),\n    saveSpProdDataReset: () => dispatch(saveSpProdDataReset()),\n    saveSpImgData: (params) => dispatch(saveSpImgData(params)),\n    saveSpImgDataReset: () => dispatch(saveSpImgDataReset()),\n    delProdVar: (params) => dispatch(delProdVar(params)),\n    delProdVarReset: () => dispatch(delProdVarReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductVariants)"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala-Admin/src/page/Login/Login.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Form, Input } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n/* custom component */\n\nimport { LoginContainer } from \"../../component/Xcomponent\";\n/* actions */\n\nimport { login, loginReset } from \"../../action/loginAction\";\n\nconst Login = props => {\n  /* variables */\n  const [formData, setFormData] = useState({\n    email: \"\",\n    password: \"\"\n  });\n  const {\n    login,\n    loginReset,\n    loginState\n  } = props;\n  const [redirect, setRedirect] = useState([false, '']);\n  /* callbacks */\n\n  useEffect(() => {\n    return () => loginReset();\n  }, []);\n  useEffect(() => {\n    if (loginState.apiState === \"success\") {\n      localStorage.setItem(\"PikyUserToken\", loginState.data.token);\n      localStorage.setItem(\"PikyUser\", JSON.stringify(loginState.data.user));\n      setRedirect([true, '/']);\n    }\n  }, [loginState]);\n  /* function */\n\n  const handleSubmit = () => {\n    login(formData);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirect[0] && /*#__PURE__*/React.createElement(Redirect, {\n    to: redirect[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(LoginContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      borderRadius: '20px',\n      padding: 16,\n      border: \"solid 1px #ccc\",\n      background: \"#fff\",\n      borderRadius: 4,\n      minWidth: 350\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Form, {\n    layout: \"vertical\",\n    onFinish: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Email\",\n    name: \"email\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input, {\n    name: \"email\",\n    placeholder: \"Email\",\n    onChange: e => setFormData({ ...formData,\n      ['email']: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Password\",\n    name: \"password\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Input.Password, {\n    name: \"password\",\n    placeholder: \"Password\",\n    onChange: e => setFormData({ ...formData,\n      ['password']: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 29\n    }\n  })), /*#__PURE__*/React.createElement(Button, {\n    htmlType: \"submit\",\n    type: \"primary\",\n    block: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 25\n    }\n  }, \"LOGIN\")))));\n};\n\nconst mapStateToProps = state => ({\n  loginState: state.login\n});\n\nconst mapDispatchToProps = dispatch => ({\n  login: params => dispatch(login(params)),\n  loginReset: () => dispatch(loginReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/Login/Login.js"],"names":["React","useState","useEffect","Button","Form","Input","connect","Redirect","LoginContainer","login","loginReset","Login","props","formData","setFormData","email","password","loginState","redirect","setRedirect","apiState","localStorage","setItem","data","token","JSON","stringify","user","handleSubmit","borderRadius","padding","border","background","minWidth","required","message","e","target","value","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Button, Form, Input } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\n\n/* custom component */\nimport { LoginContainer } from \"../../component/Xcomponent\"\n\n/* actions */\nimport { login, loginReset } from \"../../action/loginAction\"\n\nconst Login = props => {\n    /* variables */\n    const [formData, setFormData] = useState({\n        email: \"\",\n        password: \"\"\n    })\n    const { login, loginReset, loginState } = props\n    const [redirect, setRedirect] = useState([false, ''])\n\n    /* callbacks */\n    useEffect(() => {\n        return (() => loginReset())\n    }, [])\n\n    useEffect(() => {\n        if (loginState.apiState === \"success\") {\n            localStorage.setItem(\"PikyUserToken\", loginState.data.token)\n            localStorage.setItem(\"PikyUser\", JSON.stringify(loginState.data.user))\n            setRedirect([true, '/'])\n        }\n    }, [loginState])\n\n    /* function */\n    const handleSubmit = () => {\n        login(formData)\n    }\n\n    return (\n        <>\n            {redirect[0] &&\n                <Redirect to={redirect[1]} />}\n\n\n            <LoginContainer>\n                <div style={{ borderRadius :'20px', padding: 16, border: \"solid 1px #ccc\", background: \"#fff\", borderRadius: 4, minWidth: 350 }} >\n                    <Form layout=\"vertical\" onFinish={handleSubmit}>\n                        <Form.Item\n                            label=\"Email\"\n                            name=\"email\"\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Input name=\"email\" placeholder=\"Email\" onChange={(e) => setFormData({ ...formData, ['email']: e.target.value })} />\n                        </Form.Item>\n                        <Form.Item\n                            label=\"Password\"\n                            name=\"password\"\n                            rules={[{ required: true, message: 'Required' }]}\n                        >\n                            <Input.Password name=\"password\" placeholder=\"Password\" onChange={(e) => setFormData({ ...formData, ['password']: e.target.value })} />\n                        </Form.Item>\n                        <Button htmlType=\"submit\" type=\"primary\" block >LOGIN</Button>\n                    </Form>\n                </div>\n            </LoginContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({ loginState: state.login })\n\nconst mapDispatchToProps = (dispatch) => ({\n    login: (params) => dispatch(login(params)),\n    loginReset: () => dispatch(loginReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login)"]},"metadata":{},"sourceType":"module"}
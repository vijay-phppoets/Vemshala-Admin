{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala-Admin/src/page/VoucherList/VoucherList.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Table, Space, Badge } from \"antd\";\nimport { Link } from 'react-router-dom';\nimport { connect } from \"react-redux\";\nimport { EditOutlined } from \"@ant-design/icons\";\n/* custom component */\n\nimport Header from \"../../component/Header/Header\";\nimport { PageContainer } from \"../../component/Xcomponent\";\nimport { Indicator } from \"./VoucherListStyle\";\n/* actions */\n\nimport { getVoucherList, getVoucherListReset } from \"../../action/getVoucherListAction\";\n\nconst VoucherList = props => {\n  /* variables */\n  const {\n    getVoucherList,\n    getVoucherListReset,\n    getVoucherListState\n  } = props;\n  const [tableData, setTableData] = useState([]);\n  const columns = [{\n    title: 'Name',\n    dataIndex: 'name',\n    key: 'name'\n  }, {\n    title: 'Code',\n    dataIndex: 'code',\n    key: 'code',\n    render: code => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 29\n      }\n    }, code)\n  }, {\n    title: 'Discount',\n    dataIndex: 'discountData',\n    key: 'discountData',\n    render: obj => /*#__PURE__*/React.createElement(Space, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 17\n      }\n    }, obj.type === \"percentage\" ? /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 25\n      }\n    }, obj.discount, \"%\") : /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 27\n      }\n    }, \"\\u20B9\", obj.discount))\n  }, {\n    title: 'Valid From',\n    dataIndex: 'valid_from',\n    key: 'valid_from',\n    render: valid_from => {\n      var date = new Date(valid_from);\n      var month = date.getMonth() + 1; //months (0-11)\n\n      var day = date.getDate(); //day (1-31)\n\n      var year = date.getFullYear();\n      var formattedDate = month + \"/\" + day + \"/\" + year;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 21\n        }\n      }, formattedDate);\n    }\n  }, {\n    title: 'Valid To',\n    dataIndex: 'valid_to',\n    key: 'valid_to',\n    render: valid_to => {\n      var date = new Date(valid_to);\n      var month = date.getMonth() + 1 + 1;\n      var day = date.getDate();\n      var year = date.getFullYear();\n      var formattedDate = month + \"/\" + day + \"/\" + year;\n      return /*#__PURE__*/React.createElement(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 21\n        }\n      }, formattedDate);\n    }\n  }, {\n    title: 'Status',\n    dataIndex: 'status',\n    key: 'status',\n    render: status => status === \"active\" ? /*#__PURE__*/React.createElement(Indicator, {\n      green: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 55\n      }\n    }) : /*#__PURE__*/React.createElement(Indicator, {\n      red: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 77\n      }\n    })\n  }, {\n    title: 'Action',\n    dataIndex: 'id',\n    key: 'action',\n    render: id => /*#__PURE__*/React.createElement(Link, {\n      to: `/voucher_management/${id}/edit`,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      size: \"small\",\n      icon: /*#__PURE__*/React.createElement(EditOutlined, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 88\n        }\n      }),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 61\n      }\n    }))\n  }];\n  /* callbacks */\n\n  useEffect(() => {\n    getVoucherList();\n  }, []);\n  useEffect(() => {\n    if (getVoucherListState.apiState === \"success\") {\n      let tableData = [];\n      getVoucherListState.list.map(row => {\n        tableData.push({\n          key: row.id,\n          name: row.name,\n          code: row.code,\n          valid_from: row.valid_from,\n          valid_to: row.valid_to,\n          discountData: {\n            type: row.type,\n            discount: row.discount\n          },\n          status: row.status,\n          id: row.id\n        });\n      });\n      setTableData(tableData);\n    }\n  }, [getVoucherListState]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(Header, {\n    title: \"Voucher List\",\n    actionBtn: /*#__PURE__*/React.createElement(Link, {\n      to: \"/voucher_management/add\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 28\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 63\n      }\n    }, \"New\")),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    list: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Table, {\n    dataSource: tableData,\n    columns: columns,\n    size: \"small\",\n    pagination: false,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 17\n    }\n  })));\n};\n\nconst mapStateToProps = state => ({\n  getVoucherListState: state.getVoucherList\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getVoucherList: params => dispatch(getVoucherList(params)),\n  getVoucherListReset: () => dispatch(getVoucherListReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherList);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/VoucherList/VoucherList.js"],"names":["React","useEffect","useState","Button","Table","Space","Badge","Link","connect","EditOutlined","Header","PageContainer","Indicator","getVoucherList","getVoucherListReset","VoucherList","props","getVoucherListState","tableData","setTableData","columns","title","dataIndex","key","render","code","obj","type","discount","valid_from","date","Date","month","getMonth","day","getDate","year","getFullYear","formattedDate","valid_to","status","id","apiState","list","map","row","push","name","discountData","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Table, Space, Badge } from \"antd\"\nimport { Link } from 'react-router-dom'\nimport { connect } from \"react-redux\"\nimport { EditOutlined } from \"@ant-design/icons\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport { Indicator } from \"./VoucherListStyle\"\n\n/* actions */\nimport { getVoucherList, getVoucherListReset } from \"../../action/getVoucherListAction\"\n\n\nconst VoucherList = props => {\n    /* variables */\n    const { getVoucherList, getVoucherListReset, getVoucherListState } = props\n    const [tableData, setTableData] = useState([])\n    const columns = [\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: 'Code',\n            dataIndex: 'code',\n            key: 'code',\n            render: code => <span>{code}</span>\n        },\n        {\n            title: 'Discount',\n            dataIndex: 'discountData',\n            key: 'discountData',\n            render: (obj) => (\n                <Space>\n                    {obj.type === \"percentage\" ?\n                        <span>{obj.discount}%</span>\n                        : <span>₹{obj.discount}</span>\n                    }\n\n                </Space>\n            )\n        },\n        {\n            title: 'Valid From',\n            dataIndex: 'valid_from',\n            key: 'valid_from',\n            render: (valid_from) => {\n                var date = new Date(valid_from);\n                var month = date.getMonth() +1;//months (0-11)\n                var day = date.getDate();//day (1-31)\n                var year = date.getFullYear();\n\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Valid To',\n            dataIndex: 'valid_to',\n            key: 'valid_to',\n            render: (valid_to) => {\n                var date = new Date(valid_to);\n                var month = date.getMonth() +1 + 1;\n                var day = date.getDate();\n                var year = date.getFullYear();\n                var formattedDate = month + \"/\" + day + \"/\" + year;\n                return (\n                    <span>{formattedDate}</span>\n                )\n            }\n        },\n        {\n            title: 'Status',\n            dataIndex: 'status',\n            key: 'status',\n            render: (status) => status === \"active\" ? <Indicator green /> : <Indicator red />\n        },\n        {\n            title: 'Action',\n            dataIndex: 'id',\n            key: 'action',\n            render: (id) => (\n                <Link to={`/voucher_management/${id}/edit`}><Button size=\"small\" icon={<EditOutlined />} /></Link>\n            )\n        },\n    ];\n\n    /* callbacks */\n    useEffect(() => {\n        getVoucherList()\n    }, [])\n\n    useEffect(() => {\n        if (getVoucherListState.apiState === \"success\") {\n            let tableData = []\n            getVoucherListState.list.map(row => {\n                tableData.push({\n                    key: row.id,\n                    name: row.name,\n                    code: row.code,\n                    valid_from: row.valid_from,\n                    valid_to: row.valid_to,\n                    discountData: { type: row.type, discount: row.discount },\n                    status: row.status,\n                    id: row.id,\n                })\n            })\n            setTableData(tableData)\n        }\n    }, [getVoucherListState])\n\n\n    return (\n        <>\n            <Header\n                title=\"Voucher List\"\n                actionBtn={<Link to='/voucher_management/add'><Button >New</Button></Link>}\n            />\n            <PageContainer list >\n                <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getVoucherListState: state.getVoucherList,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getVoucherList: (params) => dispatch(getVoucherList(params)),\n    getVoucherListReset: () => dispatch(getVoucherListReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherList)"]},"metadata":{},"sourceType":"module"}
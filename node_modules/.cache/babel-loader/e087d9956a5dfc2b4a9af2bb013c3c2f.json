{"ast":null,"code":"var _jsxFileName = \"/home/kuldeep/Git Hub/Vemshala-Admin/src/page/OrderUpdate/OrderUpdate.js\";\nimport React, { useEffect, useState } from \"react\";\nimport { Button, Table, Space, Select, Form, Row, Col, message } from \"antd\";\nimport { connect } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\n/* custom component */\n\nimport Header from \"../../component/Header/Header\";\nimport { PageContainer } from \"../../component/Xcomponent\";\nimport cnf from \"../../config\";\n/* actions */\n\nimport { getOrderDetails, getOrderDetailsReset } from \"../../action/getOrderDetailsAction\";\nimport { updateOrder, updateOrderReset } from \"../../action/updateOrderAction\";\n\nconst OrderList = props => {\n  /* variables */\n  const [form] = Form.useForm();\n  const order_id = props.match.params.order_id;\n  const {\n    getOrderDetails,\n    getOrderDetailsReset,\n    getOrderDetailsState,\n    updateOrder,\n    updateOrderReset,\n    updateOrderState\n  } = props;\n  const [redirect, setRedirect] = useState([false, '']);\n  const [orderData, setOrderData] = useState([]);\n  const [tableData, setTableData] = useState([]);\n  const columns = [{\n    title: 'Image',\n    dataIndex: 'image',\n    key: 'image',\n    render: image => /*#__PURE__*/React.createElement(\"img\", {\n      src: `${cnf.s3_base_url}${image}`,\n      alt: \"\",\n      style: {\n        width: 50\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 33\n      }\n    })\n  }, {\n    title: 'Product Name',\n    dataIndex: 'product_name',\n    key: 'product_name',\n    render: product_name => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36,\n        columnNumber: 40\n      }\n    }, product_name)\n  }, {\n    title: 'Quantity',\n    dataIndex: 'quantity',\n    key: 'quantity',\n    render: quantity => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 36\n      }\n    }, quantity)\n  }, {\n    title: 'Buy Price',\n    dataIndex: 'price',\n    key: 'price',\n    render: price => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 33\n      }\n    }, orderData.payment_type == \"USD\" ? /*#__PURE__*/React.createElement(React.Fragment, null, \"$\") : /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u20B9\"), price)\n  }, {\n    title: 'Total',\n    dataIndex: 'total',\n    key: 'total',\n    render: total => /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 33\n      }\n    }, orderData.payment_type == \"USD\" ? /*#__PURE__*/React.createElement(React.Fragment, null, \"$\") : /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u20B9\"), total)\n  }];\n  const [formData, setFormData] = useState({\n    status: \"\",\n    order_id: order_id,\n    currencyType: getOrderDetailsState.order.payment_type\n  });\n  /* callbacks */\n\n  useEffect(() => {\n    getOrderDetails({\n      order_id: order_id\n    });\n  }, []);\n  useEffect(() => {\n    if (getOrderDetailsState.apiState === \"success\") {\n      setOrderData(getOrderDetailsState.order);\n      let ar = [];\n      getOrderDetailsState.order.items.map(obj => {\n        ar.push({\n          key: obj.product_id,\n          product_name: obj.product_name,\n          image: obj.thumbnail,\n          quantity: obj.quantity,\n          price: obj.price,\n          total: obj.total,\n          id: obj.product_id\n        });\n      });\n      setTableData(ar); // Form set \n\n      form.setFieldsValue({\n        status: getOrderDetailsState.order.status\n      });\n      setFormData({ ...formData,\n        ['status']: getOrderDetailsState.order.status\n      });\n    }\n  }, [getOrderDetailsState]);\n  useEffect(() => {\n    if (updateOrderState.apiState === \"success\") {\n      setRedirect([true, '/order_management/list']);\n      message.success(updateOrderState.message);\n    }\n\n    if (updateOrderState.apiState === \"error\") {\n      updateOrderReset();\n      message.error(updateOrderState.message);\n    }\n  }, [updateOrderState]);\n\n  const handleNumberChange = (name, value) => {\n    console.log(name, value);\n    setFormData({ ...formData,\n      [name]: value\n    });\n  };\n\n  const handleSubmit = () => {\n    updateOrder(formData);\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, redirect[0] && /*#__PURE__*/React.createElement(Redirect, {\n    to: redirect[1],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Header, {\n    title: \"Order Details\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(PageContainer, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"solid 1px #ccc\",\n      padding: 20\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"table\", {\n    width: \"100%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    width: \"20%\",\n    height: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 59\n    }\n  }, \"Order ID: \")), /*#__PURE__*/React.createElement(\"td\", {\n    width: \"30%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 29\n    }\n  }, \"#\", orderData.order_no), /*#__PURE__*/React.createElement(\"td\", {\n    width: \"20%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 45\n    }\n  }, \" Order Status:\")), /*#__PURE__*/React.createElement(\"td\", {\n    width: \"30%\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 29\n    }\n  }, orderData.status)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    height: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 47\n    }\n  }, \"Customer Name:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 29\n    }\n  }, orderData.b_fname + ' ' + orderData.b_lname), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 33\n    }\n  }, \"E-Mail:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 29\n    }\n  }, orderData.b_email)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    height: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 47\n    }\n  }, \"Order Date:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 29\n    }\n  }, orderData.order_date), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 33\n    }\n  }, \"Order Total:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 29\n    }\n  }, orderData.payment_type == \"USD\" ? /*#__PURE__*/React.createElement(React.Fragment, null, \"$\") : /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u20B9\"), orderData.grand_total)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    height: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 47\n    }\n  }, \"Payment Mode:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 29\n    }\n  }, orderData.payment_mode), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 33\n    }\n  }, \"Shipping Charge\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 29\n    }\n  }, orderData.payment_type == \"USD\" ? /*#__PURE__*/React.createElement(React.Fragment, null, \"$\") : /*#__PURE__*/React.createElement(React.Fragment, null, \"\\u20B9\"), orderData.shipping_charge)), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    height: \"30px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 47\n    }\n  }, \"Coupon Code:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 29\n    }\n  }, orderData.coupon_code), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"b\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 33\n    }\n  }, \"Order Discount:\")), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 29\n    }\n  }, orderData.discount)))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      border: \"solid 1px #ccc\",\n      padding: 20,\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"Update Status\"), /*#__PURE__*/React.createElement(Form, {\n    layout: \"vertical\",\n    form: form,\n    onFinish: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    gutter: \"24\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    span: \"12\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(Form.Item, {\n    label: \"Status\",\n    name: \"status\",\n    rules: [{\n      required: true,\n      message: 'Required'\n    }],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(Select, {\n    name: \"status\",\n    placeholder: \"Select Status\",\n    onSelect: v => handleNumberChange(\"status\", v),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 171,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Select.Option, {\n    key: \"processing\",\n    value: \"processing\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, \"Processing\"), /*#__PURE__*/React.createElement(Select.Option, {\n    key: \"shipped\",\n    value: \"shipped\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 41\n    }\n  }, \"Shipped\"), /*#__PURE__*/React.createElement(Select.Option, {\n    key: \"delivered\",\n    value: \"delivered\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 41\n    }\n  }, \"Delivered\"), /*#__PURE__*/React.createElement(Select.Option, {\n    key: \"cancelled\",\n    value: \"cancelled\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 41\n    }\n  }, \"Cancelled\"))))), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 25\n    }\n  }, \"SUBMIT\")))));\n};\n\nconst mapStateToProps = state => ({\n  getOrderDetailsState: state.getOrderDetails,\n  updateOrderState: state.updateOrder\n});\n\nconst mapDispatchToProps = dispatch => ({\n  getOrderDetails: params => dispatch(getOrderDetails(params)),\n  getOrderDetailsReset: () => dispatch(getOrderDetailsReset()),\n  updateOrder: params => dispatch(updateOrder(params)),\n  updateOrderReset: () => dispatch(updateOrderReset())\n});\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderList);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/OrderUpdate/OrderUpdate.js"],"names":["React","useEffect","useState","Button","Table","Space","Select","Form","Row","Col","message","connect","Redirect","Header","PageContainer","cnf","getOrderDetails","getOrderDetailsReset","updateOrder","updateOrderReset","OrderList","props","form","useForm","order_id","match","params","getOrderDetailsState","updateOrderState","redirect","setRedirect","orderData","setOrderData","tableData","setTableData","columns","title","dataIndex","key","render","image","s3_base_url","width","product_name","quantity","price","payment_type","total","formData","setFormData","status","currencyType","order","apiState","ar","items","map","obj","push","product_id","thumbnail","id","setFieldsValue","success","error","handleNumberChange","name","value","console","log","handleSubmit","border","padding","order_no","b_fname","b_lname","b_email","order_date","grand_total","payment_mode","shipping_charge","coupon_code","discount","marginTop","required","v","mapStateToProps","state","mapDispatchToProps","dispatch"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Table, Space, Select, Form, Row, Col, message } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport cnf from \"../../config\"\n/* actions */\nimport { getOrderDetails, getOrderDetailsReset } from \"../../action/getOrderDetailsAction\"\nimport { updateOrder, updateOrderReset } from \"../../action/updateOrderAction\"\n\n\nconst OrderList = props => {\n    /* variables */\n    const [form] = Form.useForm()\n    const order_id = props.match.params.order_id\n    const {\n        getOrderDetails, getOrderDetailsReset, getOrderDetailsState,\n        updateOrder, updateOrderReset, updateOrderState\n    } = props\n    const [redirect, setRedirect] = useState([false, ''])\n    const [orderData, setOrderData] = useState([])\n    const [tableData, setTableData] = useState([])\n    const columns = [\n        {\n            title: 'Image',\n            dataIndex: 'image',\n            key: 'image',\n            render: (image) => (<img src={`${cnf.s3_base_url}${image}`} alt=\"\" style={{ width: 50 }} />)\n        },\n        {\n            title: 'Product Name',\n            dataIndex: 'product_name',\n            key: 'product_name',\n            render: (product_name) => (<span>{product_name}</span>)\n        },\n        {\n            title: 'Quantity',\n            dataIndex: 'quantity',\n            key: 'quantity',\n            render: (quantity) => (<span>{quantity}</span>)\n        },\n        {\n            title: 'Buy Price',\n            dataIndex: 'price',\n            key: 'price',\n            render: (price) => (<span>{orderData.payment_type == \"USD\" ? <>$</> : <>₹</>}{price}</span>)\n        },\n        {\n            title: 'Total',\n            dataIndex: 'total',\n            key: 'total',\n            render: (total) => (<span>{orderData.payment_type == \"USD\" ? <>$</> : <>₹</>}{total}</span>)\n        }\n    ];\n    const [formData, setFormData] = useState({\n        status: \"\",\n        order_id: order_id,\n        currencyType: getOrderDetailsState.order.payment_type,\n    })\n\n    /* callbacks */\n    useEffect(() => {\n        getOrderDetails({ order_id: order_id })\n    }, [])\n\n    useEffect(() => {\n        if (getOrderDetailsState.apiState === \"success\") {\n            setOrderData(getOrderDetailsState.order)\n            let ar = []\n            getOrderDetailsState.order.items.map(obj => {\n                ar.push({\n                    key: obj.product_id,\n                    product_name: obj.product_name,\n                    image: obj.thumbnail,\n                    quantity: obj.quantity,\n                    price: obj.price,\n                    total: obj.total,\n                    id: obj.product_id,\n                })\n            })\n            setTableData(ar)\n            // Form set \n            form.setFieldsValue({\n                status: getOrderDetailsState.order.status,\n            })\n            setFormData({\n                ...formData,\n                ['status']: getOrderDetailsState.order.status,\n            })\n        }\n    }, [getOrderDetailsState])\n\n    useEffect(() => {\n        if (updateOrderState.apiState === \"success\") {\n            setRedirect([true, '/order_management/list'])\n            message.success(updateOrderState.message);\n        }\n\n        if (updateOrderState.apiState === \"error\") {\n            updateOrderReset()\n            message.error(updateOrderState.message);\n        }\n    }, [updateOrderState])\n\n    const handleNumberChange = (name, value) => {\n        console.log(name, value)\n        setFormData({ ...formData, [name]: value })\n    }\n    const handleSubmit = () => {\n        updateOrder(formData)\n    }\n\n    return (\n        <>\n            {redirect[0] &&\n                <Redirect to={redirect[1]} />}\n            <Header\n                title=\"Order Details\"\n            />\n            <PageContainer >\n                <div style={{ border: \"solid 1px #ccc\", padding: 20 }} >\n                    <table width=\"100%\" >\n                        <tr>\n                            <td width=\"20%\" height=\"30px\"><b>Order ID: </b></td>\n                            <td width=\"30%\">#{orderData.order_no}</td>\n                            <td width=\"20%\"><b> Order Status:</b></td>\n                            <td width=\"30%\">{orderData.status}</td>\n                        </tr>\n                        <tr>\n                            <td height=\"30px\"><b>Customer Name:</b></td>\n                            <td>{orderData.b_fname + ' ' + orderData.b_lname}</td>\n                            <td><b>E-Mail:</b></td>\n                            <td>{orderData.b_email}</td>\n                        </tr>\n                        <tr>\n                            <td height=\"30px\"><b>Order Date:</b></td>\n                            <td>{orderData.order_date}</td>\n                            <td><b>Order Total:</b></td>\n                            <td>{orderData.payment_type == \"USD\" ? <>$</> : <>₹</>}{orderData.grand_total}</td>\n                        </tr>\n                        <tr>\n                            <td height=\"30px\"><b>Payment Mode:</b></td>\n                            <td>{orderData.payment_mode}</td>\n                            <td><b>Shipping Charge</b></td>\n                            <td>{orderData.payment_type == \"USD\" ? <>$</> : <>₹</>}{orderData.shipping_charge}</td>\n                        </tr>\n                        <tr>\n                            <td height=\"30px\"><b>Coupon Code:</b></td>\n                            <td>{orderData.coupon_code}</td>\n                            <td><b>Order Discount:</b></td>\n                            <td>{orderData.discount}</td>\n                        </tr>\n                    </table>\n                </div>\n                {/* <div style={{ border: \"solid 1px #ccc\", padding: 20, marginTop: \"10px\" }} >\n                    <h3>Item Details</h3>\n                    <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n                </div> */}\n                <div style={{ border: \"solid 1px #ccc\", padding: 20, marginTop: \"10px\" }} >\n                    <h3>Update Status</h3>\n                    <Form layout=\"vertical\" form={form} onFinish={handleSubmit} >\n                        <Row gutter=\"24\" >\n                            <Col span=\"12\">\n                                <Form.Item\n                                    label=\"Status\"\n                                    name=\"status\"\n                                    rules={[{ required: true, message: 'Required' }]}\n                                >\n                                    <Select name=\"status\" placeholder=\"Select Status\"\n                                        onSelect={v => handleNumberChange(\"status\", v)}\n                                    >\n                                        <Select.Option key=\"processing\" value=\"processing\" >Processing</Select.Option>\n                                        <Select.Option key=\"shipped\" value=\"shipped\">Shipped</Select.Option>\n                                        <Select.Option key=\"delivered\" value=\"delivered\">Delivered</Select.Option>\n                                        <Select.Option key=\"cancelled\" value=\"cancelled\">Cancelled</Select.Option>\n                                    </Select>\n                                </Form.Item>\n                            </Col>\n                        </Row>\n                        <Button type=\"primary\" htmlType=\"submit\">SUBMIT</Button>\n                    </Form>\n                </div>\n\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getOrderDetailsState: state.getOrderDetails,\n    updateOrderState: state.updateOrder,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getOrderDetails: (params) => dispatch(getOrderDetails(params)),\n    getOrderDetailsReset: () => dispatch(getOrderDetailsReset()),\n    updateOrder: (params) => dispatch(updateOrder(params)),\n    updateOrderReset: () => dispatch(updateOrderReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(OrderList)"]},"metadata":{},"sourceType":"module"}
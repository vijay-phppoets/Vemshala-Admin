{"ast":null,"code":"import _slicedToArray from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Button,Table,Space,Badge}from\"antd\";import{Link}from'react-router-dom';import{connect}from\"react-redux\";import{EditOutlined}from\"@ant-design/icons\";/* custom component */import Header from\"../../component/Header/Header\";import{PageContainer}from\"../../component/Xcomponent\";import{Indicator}from\"./ProductListStyle\";/* actions */import{getProductList as _getProductList,getProductListReset as _getProductListReset}from\"../../action/getProductListAction\";var ProductList=function ProductList(props){/* variables */var getProductList=props.getProductList,getProductListReset=props.getProductListReset,getProductListState=props.getProductListState;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),tableData=_useState2[0],setTableData=_useState2[1];var columns=[{title:'Name',dataIndex:'name',key:'name'},{title:'Type',dataIndex:'type',key:'type',render:function render(type){return/*#__PURE__*/React.createElement(\"span\",{style:{textTransform:\"capitalize\"}},type);}},{title:'Price',dataIndex:'price',key:'price',render:function render(obj){return/*#__PURE__*/React.createElement(Space,null,obj.is_sale_price===\"yes\"?/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"span\",{style:{textDecoration:\"line-through\",color:\"#00000099\"}},\"\\u20B9\",obj.price),/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",obj.sale_price)):/*#__PURE__*/React.createElement(\"span\",null,\"\\u20B9\",obj.price));}},{title:'Status',dataIndex:'status',key:'status',render:function render(status){return status===\"enabled\"?/*#__PURE__*/React.createElement(Indicator,{green:true}):/*#__PURE__*/React.createElement(Indicator,{red:true});}},{title:'Action',dataIndex:'id',key:'action',render:function render(id){return/*#__PURE__*/React.createElement(Link,{to:\"/product/\".concat(id,\"/edit\")},/*#__PURE__*/React.createElement(Button,{size:\"small\",icon:/*#__PURE__*/React.createElement(EditOutlined,null)}));}}];/* callbacks */useEffect(function(){getProductList();},[]);useEffect(function(){if(getProductListState.apiState===\"success\"){var _tableData=[];getProductListState.list.map(function(row){_tableData.push({key:row.id,name:row.name,type:row.type,price:{price:row.price,is_sale_price:row.is_sale_price,sale_price:row.sale_price},status:row.status,id:row.id});});setTableData(_tableData);}},[getProductListState]);return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Header,{title:\"Product List\",actionBtn:/*#__PURE__*/React.createElement(Link,{to:\"/product/add\"},/*#__PURE__*/React.createElement(Button,null,\"New\"))}),/*#__PURE__*/React.createElement(PageContainer,{list:true},/*#__PURE__*/React.createElement(Table,{dataSource:tableData,columns:columns,size:\"small\",pagination:false})));};var mapStateToProps=function mapStateToProps(state){return{getProductListState:state.getProductList};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{getProductList:function getProductList(params){return dispatch(_getProductList(params));},getProductListReset:function getProductListReset(){return dispatch(_getProductListReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(ProductList);","map":{"version":3,"names":["React","useEffect","useState","Button","Table","Space","Badge","Link","connect","EditOutlined","Header","PageContainer","Indicator","getProductList","getProductListReset","ProductList","props","getProductListState","tableData","setTableData","columns","title","dataIndex","key","render","type","textTransform","obj","is_sale_price","textDecoration","color","price","sale_price","status","id","apiState","list","map","row","push","name","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/ProductList/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\"\nimport { Button, Table, Space, Badge } from \"antd\"\nimport { Link } from 'react-router-dom'\nimport { connect } from \"react-redux\"\nimport { EditOutlined } from \"@ant-design/icons\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\nimport { Indicator } from \"./ProductListStyle\"\n\n/* actions */\nimport { getProductList, getProductListReset } from \"../../action/getProductListAction\"\n\n\nconst ProductList = props => {\n    /* variables */\n    const { getProductList, getProductListReset, getProductListState } = props\n    const [tableData, setTableData] = useState([])\n    const columns = [\n        {\n            title: 'Name',\n            dataIndex: 'name',\n            key: 'name',\n        },\n        {\n            title: 'Type',\n            dataIndex: 'type',\n            key: 'type',\n            render: type => <span style={{ textTransform: \"capitalize\" }} >{type}</span>\n        },\n        {\n            title: 'Price',\n            dataIndex: 'price',\n            key: 'price',\n            render: (obj) => (\n                <Space>\n                    {obj.is_sale_price === \"yes\" ?\n                        <>\n                            <span style={{ textDecoration: \"line-through\", color: \"#00000099\" }} >₹{obj.price}</span>\n                            <span>₹{obj.sale_price}</span>\n                        </>\n                        : <span>₹{obj.price}</span>\n                    }\n\n                </Space>\n            )\n        },\n        {\n            title: 'Status',\n            dataIndex: 'status',\n            key: 'status',\n            render: (status) => status === \"enabled\" ? <Indicator green /> : <Indicator red />\n        },\n        {\n            title: 'Action',\n            dataIndex: 'id',\n            key: 'action',\n            render: (id) => (\n                <Link to={`/product/${id}/edit`}><Button size=\"small\" icon={<EditOutlined />} /></Link>\n            )\n        },\n    ];\n\n    /* callbacks */\n    useEffect(() => {\n        getProductList()\n    }, [])\n\n    useEffect(() => {\n        if (getProductListState.apiState === \"success\") {\n            let tableData = []\n            getProductListState.list.map(row => {\n                tableData.push({\n                    key: row.id,\n                    name: row.name,\n                    type: row.type,\n                    price: { price: row.price, is_sale_price: row.is_sale_price, sale_price: row.sale_price },\n                    status: row.status,\n                    id: row.id,\n                })\n            })\n            setTableData(tableData)\n        }\n    }, [getProductListState])\n\n\n    return (\n        <>\n            <Header\n                title=\"Product List\"\n                actionBtn={<Link to='/product/add'><Button >New</Button></Link>}\n            />\n            <PageContainer list >\n                <Table dataSource={tableData} columns={columns} size=\"small\" pagination={false} />\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    getProductListState: state.getProductList,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    getProductList: (params) => dispatch(getProductList(params)),\n    getProductListReset: () => dispatch(getProductListReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ProductList)"],"mappings":"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"},"metadata":{},"sourceType":"module"}
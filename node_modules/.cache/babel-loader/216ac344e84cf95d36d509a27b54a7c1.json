{"ast":null,"code":"import _defineProperty from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/kuldeep/Git Hub/Vemshala-Admin/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{Form,Row,Col,Select,Button,Input,InputNumber,message,DatePicker,Space}from\"antd\";import{connect}from\"react-redux\";import{Redirect}from\"react-router-dom\";/* custom component */import Header from\"../../component/Header/Header\";import{PageContainer}from\"../../component/Xcomponent\";/* actions */import{createVoucher as _createVoucher,createVoucherReset as _createVoucherReset}from\"../../action/createVoucherAction\";var RangePicker=DatePicker.RangePicker;var VoucherAdd=function VoucherAdd(props){/* variables */var createVoucher=props.createVoucher,createVoucherReset=props.createVoucherReset,createVoucherState=props.createVoucherState;var _useState=useState({type:\"percentage\",status:\"active\",name:\"\",code:\"\",description:\"\",no_of_usage_for_all:\"\",discount:\"\",minimum_cart_value:\"\",maximum_discount_amount:\"\",valid_from:\"\",valid_to:\"\"}),_useState2=_slicedToArray(_useState,2),formData=_useState2[0],setFormData=_useState2[1];var _Form$useForm=Form.useForm(),_Form$useForm2=_slicedToArray(_Form$useForm,1),form=_Form$useForm2[0];var _useState3=useState([false,'']),_useState4=_slicedToArray(_useState3,2),redirect=_useState4[0],setRedirect=_useState4[1];/* callbacks */useEffect(function(){return function(){return createVoucherReset();};},[]);useEffect(function(){form.setFieldsValue({status:\"active\",type:\"percentage\"});},[]);useEffect(function(){if(createVoucherState.apiState===\"success\"){setRedirect([true,'/voucher_management/list']);message.success(createVoucherState.message);}if(createVoucherState.apiState===\"error\"){createVoucherReset();message.error(createVoucherState.message);}},[createVoucherState]);/* functions */var handleChange=function handleChange(e){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},e.target.name,e.target.value)));};var handleNumberChange=function handleNumberChange(name,value){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleDatePickerChange=function handleDatePickerChange(date,dateString){var _objectSpread4;setFormData(_objectSpread(_objectSpread({},formData),{},(_objectSpread4={},_defineProperty(_objectSpread4,\"valid_from\",dateString[0]),_defineProperty(_objectSpread4,\"valid_to\",dateString[1]),_objectSpread4)));};var handleSelect=function handleSelect(name,value){setFormData(_objectSpread(_objectSpread({},formData),{},_defineProperty({},name,value)));};var handleSubmit=function handleSubmit(){createVoucher(formData);};return/*#__PURE__*/React.createElement(React.Fragment,null,redirect[0]&&/*#__PURE__*/React.createElement(Redirect,{to:redirect[1]}),/*#__PURE__*/React.createElement(Header,{title:\"Add Voucher\"}),/*#__PURE__*/React.createElement(PageContainer,null,/*#__PURE__*/React.createElement(Form,{layout:\"vertical\",form:form,onFinish:handleSubmit},/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{span:\"12\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Name\",name:\"name\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Input,{name:\"name\",placeholder:\"Enter Coupon Name\",onChange:handleChange}))),/*#__PURE__*/React.createElement(Col,{span:\"12\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Code\",name:\"code\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Input,{name:\"code\",placeholder:\"Enter Coupon Code\",onChange:handleChange})))),/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{span:\"24\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Description\",name:\"description\"},/*#__PURE__*/React.createElement(Input.TextArea,{name:\"description\",placeholder:\"Enter Description\",onChange:handleChange})))),/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{span:\"6\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"No of usage for all\",name:\"no_of_usage_for_all\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Input,{name:\"no_of_usage_for_all\",placeholder:\"No of usage for all\",onChange:handleChange})))),/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{span:\"12\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Validity\",name:\"validity\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(RangePicker,{showTime:true,format:\"DD-MM-YYYY HH:mm:ss\",onChange:handleDatePickerChange})))),/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{span:\"6\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Type\",name:\"type\"},/*#__PURE__*/React.createElement(Select,{name:\"type\",placeholder:\"Select Type\",defaultValue:\"percentage\",onSelect:function onSelect(v){return handleNumberChange(\"type\",v);}},/*#__PURE__*/React.createElement(Select.Option,{key:\"percentage\",value:\"percentage\"},\"Percentage\"),/*#__PURE__*/React.createElement(Select.Option,{key:\"flat\",value:\"flat\"},\"Flat\")))),/*#__PURE__*/React.createElement(Col,{span:\"6\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Discount\",name:\"discount\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(InputNumber,{name:\"discount\",placeholder:\"Enter discount\",style:{width:\"100%\"},min:0,onChange:function onChange(v){return handleNumberChange(\"discount\",v);}})))),/*#__PURE__*/React.createElement(Row,{gutter:\"24\"},/*#__PURE__*/React.createElement(Col,{span:\"6\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Minimum cart value\",name:\"minimum_cart_value\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(InputNumber,{name:\"minimum_cart_value\",placeholder:\"Enter minimum cart value\",style:{width:\"100%\"},min:0,onChange:function onChange(v){return handleNumberChange(\"minimum_cart_value\",v);}}))),/*#__PURE__*/React.createElement(Col,{span:\"6\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Maximum discount amount\",name:\"maximum_discount_amount\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(InputNumber,{name:\"maximum_discount_amount\",placeholder:\"Enter maximum discount amount\",style:{width:\"100%\"},min:0,onChange:function onChange(v){return handleNumberChange(\"maximum_discount_amount\",v);}}))),/*#__PURE__*/React.createElement(Col,{span:\"6\"},/*#__PURE__*/React.createElement(Form.Item,{label:\"Status\",name:\"status\",rules:[{required:true,message:'Required'}]},/*#__PURE__*/React.createElement(Select,{name:\"status\",placeholder:\"Select Status\",onSelect:function onSelect(v){return handleNumberChange(\"status\",v);}},/*#__PURE__*/React.createElement(Select.Option,{key:\"active\",value:\"active\"},\"Active\"),/*#__PURE__*/React.createElement(Select.Option,{key:\"inactive\",value:\"inactive\"},\"Inactive\"))))),/*#__PURE__*/React.createElement(Button,{type:\"primary\",htmlType:\"submit\",loading:createVoucherState.apiState===\"loading\"},\"SUBMIT\"))));};var mapStateToProps=function mapStateToProps(state){return{createVoucherState:state.createVoucher};};var mapDispatchToProps=function mapDispatchToProps(dispatch){return{createVoucher:function createVoucher(params){return dispatch(_createVoucher(params));},createVoucherReset:function createVoucherReset(){return dispatch(_createVoucherReset());}};};export default connect(mapStateToProps,mapDispatchToProps)(VoucherAdd);","map":{"version":3,"sources":["/home/kuldeep/Git Hub/Vemshala-Admin/src/page/VoucherAdd/VoucherAdd.js"],"names":["React","useState","useEffect","Form","Row","Col","Select","Button","Input","InputNumber","message","DatePicker","Space","connect","Redirect","Header","PageContainer","createVoucher","createVoucherReset","RangePicker","VoucherAdd","props","createVoucherState","type","status","name","code","description","no_of_usage_for_all","discount","minimum_cart_value","maximum_discount_amount","valid_from","valid_to","formData","setFormData","useForm","form","redirect","setRedirect","setFieldsValue","apiState","success","error","handleChange","e","target","value","handleNumberChange","handleDatePickerChange","date","dateString","handleSelect","handleSubmit","required","v","width","mapStateToProps","state","mapDispatchToProps","dispatch","params"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\"\nimport { Form, Row, Col, Select, Button, Input, InputNumber, message, DatePicker, Space } from \"antd\"\nimport { connect } from \"react-redux\"\nimport { Redirect } from \"react-router-dom\"\n\n/* custom component */\nimport Header from \"../../component/Header/Header\"\nimport { PageContainer } from \"../../component/Xcomponent\"\n\n/* actions */\nimport { createVoucher, createVoucherReset } from \"../../action/createVoucherAction\"\nconst { RangePicker } = DatePicker;\nconst VoucherAdd = props => {\n    /* variables */\n    const {\n        createVoucher, createVoucherReset, createVoucherState\n    } = props\n    const [formData, setFormData] = useState({\n        type: \"percentage\",\n        status: \"active\",\n        name: \"\",\n        code: \"\",\n        description: \"\",\n        no_of_usage_for_all: \"\",\n        discount: \"\",\n        minimum_cart_value: \"\",\n        maximum_discount_amount: \"\",\n        valid_from: \"\",\n        valid_to: \"\",\n\n    })\n    const [form] = Form.useForm()\n    const [redirect, setRedirect] = useState([false, ''])\n\n    /* callbacks */\n    useEffect(() => {\n        return (() => createVoucherReset())\n    }, [])\n\n    useEffect(() => {\n        form.setFieldsValue({\n            status: \"active\",\n            type: \"percentage\"\n        })\n    }, [])\n\n    useEffect(() => {\n        if (createVoucherState.apiState === \"success\") {\n            setRedirect([true, '/voucher_management/list'])\n            message.success(createVoucherState.message);\n        }\n\n        if (createVoucherState.apiState === \"error\") {\n            createVoucherReset()\n            message.error(createVoucherState.message);\n        }\n    }, [createVoucherState])\n\n    /* functions */\n    const handleChange = e => {\n        setFormData({ ...formData, [e.target.name]: e.target.value })\n    }\n\n    const handleNumberChange = (name, value) => {\n        setFormData({ ...formData, [name]: value })\n    }\n    const handleDatePickerChange = (date, dateString) => {\n        setFormData(({\n            ...formData,\n            [\"valid_from\"]: dateString[0],\n            [\"valid_to\"]: dateString[1]\n        }))\n    }\n\n    const handleSelect = (name, value) => {\n        setFormData({ ...formData, [name]: value })\n    }\n\n    const handleSubmit = () => {\n        createVoucher(formData)\n    }\n\n\n    return (\n        <>\n            {redirect[0] &&\n                <Redirect to={redirect[1]} />}\n\n            <Header\n                title=\"Add Voucher\"\n            />\n            <PageContainer>\n                <Form layout=\"vertical\" form={form} onFinish={handleSubmit} >\n\n                    <Row gutter=\"24\" >\n                        <Col span=\"12\">\n                            <Form.Item\n                                label=\"Name\"\n                                name=\"name\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <Input name=\"name\" placeholder=\"Enter Coupon Name\"\n                                    onChange={handleChange}\n                                />\n                            </Form.Item>\n                        </Col>\n                        <Col span=\"12\">\n                            <Form.Item\n                                label=\"Code\"\n                                name=\"code\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <Input name=\"code\" placeholder=\"Enter Coupon Code\"\n                                    onChange={handleChange}\n                                />\n                            </Form.Item>\n                        </Col>\n                    </Row>\n                    <Row gutter=\"24\" >\n                        <Col span=\"24\">\n                            <Form.Item\n                                label=\"Description\"\n                                name=\"description\"\n                            >\n                                <Input.TextArea name=\"description\" placeholder=\"Enter Description\"\n                                    onChange={handleChange}\n                                />\n                            </Form.Item>\n                        </Col>\n                    </Row>\n\n                    <Row gutter=\"24\" >\n                        <Col span=\"6\">\n                            <Form.Item\n                                label=\"No of usage for all\"\n                                name=\"no_of_usage_for_all\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <Input name=\"no_of_usage_for_all\" placeholder=\"No of usage for all\"\n                                    onChange={handleChange}\n                                />\n                            </Form.Item>\n                        </Col>\n                        {/* <Col span=\"6\">\n                            <Form.Item\n                                label=\"No of usage for a customer\"\n                                name=\"no_of_usage_for_a_customer\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <Input name=\"no_of_usage_for_a_customer\" placeholder=\"No of usage for a customer\"\n                                    onChange={handleChange}\n                                />\n                            </Form.Item>\n                        </Col> */}\n                    </Row>\n                    <Row gutter=\"24\" >\n                        <Col span=\"12\">\n                            <Form.Item\n                                label=\"Validity\"\n                                name=\"validity\"\n                                rules={[\n                                    { required: true, message: 'Required' },\n                                ]}\n                            >\n                                <RangePicker showTime format=\"DD-MM-YYYY HH:mm:ss\" onChange={handleDatePickerChange} />\n                            </Form.Item>\n                        </Col>\n                    </Row>\n\n                    <Row gutter=\"24\">\n                        <Col span=\"6\">\n                            <Form.Item\n                                label=\"Type\"\n                                name=\"type\"\n                            >\n                                <Select name=\"type\" placeholder=\"Select Type\" defaultValue=\"percentage\"\n                                    onSelect={v => handleNumberChange(\"type\", v)}\n                                >\n                                    <Select.Option key=\"percentage\" value=\"percentage\">Percentage</Select.Option>\n                                    <Select.Option key=\"flat\" value=\"flat\">Flat</Select.Option>\n                                </Select>\n                            </Form.Item>\n                        </Col>\n                        <Col span=\"6\">\n                            <Form.Item\n                                label=\"Discount\"\n                                name=\"discount\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <InputNumber name=\"discount\" placeholder=\"Enter discount\" style={{ width: \"100%\" }} min={0}\n                                    onChange={v => handleNumberChange(\"discount\", v)}\n                                />\n                            </Form.Item>\n                        </Col>\n                    </Row>\n                    <Row gutter=\"24\" >\n                        <Col span=\"6\">\n                            <Form.Item\n                                label=\"Minimum cart value\"\n                                name=\"minimum_cart_value\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <InputNumber name=\"minimum_cart_value\" placeholder=\"Enter minimum cart value\" style={{ width: \"100%\" }} min={0}\n                                    onChange={v => handleNumberChange(\"minimum_cart_value\", v)}\n                                />\n                            </Form.Item>\n                        </Col>\n                        <Col span=\"6\">\n                            <Form.Item\n                                label=\"Maximum discount amount\"\n                                name=\"maximum_discount_amount\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <InputNumber name=\"maximum_discount_amount\" placeholder=\"Enter maximum discount amount\" style={{ width: \"100%\" }} min={0}\n                                    onChange={v => handleNumberChange(\"maximum_discount_amount\", v)}\n                                />\n                            </Form.Item>\n                        </Col>\n                        <Col span=\"6\">\n                            <Form.Item\n                                label=\"Status\"\n                                name=\"status\"\n                                rules={[{ required: true, message: 'Required' }]}\n                            >\n                                <Select name=\"status\" placeholder=\"Select Status\"\n                                    onSelect={v => handleNumberChange(\"status\", v)}\n                                >\n                                    <Select.Option key=\"active\" value=\"active\" >Active</Select.Option>\n                                    <Select.Option key=\"inactive\" value=\"inactive\">Inactive</Select.Option>\n                                </Select>\n                            </Form.Item>\n                        </Col>\n                    </Row>\n\n                    <Button type=\"primary\" htmlType=\"submit\" loading={createVoucherState.apiState === \"loading\"} >SUBMIT</Button>\n                </Form>\n            </PageContainer>\n        </>\n    )\n}\n\nconst mapStateToProps = (state) => ({\n    createVoucherState: state.createVoucher,\n})\n\nconst mapDispatchToProps = (dispatch) => ({\n    createVoucher: (params) => dispatch(createVoucher(params)),\n    createVoucherReset: () => dispatch(createVoucherReset()),\n})\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VoucherAdd)"]},"metadata":{},"sourceType":"module"}